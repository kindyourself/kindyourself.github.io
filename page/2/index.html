<!DOCTYPE html>


<html lang="zh-CN">
  

    <head>
      <!-- æ·»åŠ å…¨å±€ç¦ç”¨ Referer -->
      <meta name="referrer" content="no-referrer" />
      <meta charset="utf-8" />
       
      <meta name="keywords" content="æŠ€æœ¯,ç¼–ç¨‹,å¼€å‘,Hexo" />
       
      <meta name="description" content="ä¸ªäººæŠ€æœ¯åšå®¢ï¼Œåˆ†äº«ç¼–ç¨‹ã€å¼€å‘ç»éªŒå’Œç”Ÿæ´»æ„Ÿæ‚Ÿ" />
      
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title> Gavin&#39;s Blog</title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="/favicon.ico" />
       
<link rel="stylesheet" href="/dist/main.css">

      
<link rel="stylesheet" href="/css/fonts/remixicon.css">

      
<link rel="stylesheet" href="/css/custom.css">
 
      <script src="https://cdn.staticfile.org/pace/1.2.4/pace.min.js"></script>
       
 

      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"
      />
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script>

      <!-- mermaid -->
      
      <style>
        .swal2-styled.swal2-confirm {
          font-size: 1.6rem;
        }
      </style>
      <!-- Font Awesome 6 -->
<link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer" />
    <link rel="alternate" href="/atom.xml" title="Gavin's Blog" type="application/atom+xml">
</head>
  </html>
</html>


<body>
  <div id="app">
    
      
    <main class="content on">
      
<section class="cover">
    
      
      <a class="forkMe" href="https://github.com/Shen-Yu/hexo-theme-ayer"
        target="_blank"><img width="149" height="149" src="/images/forkme.png"
          class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"></a>
    
  <div class="cover-frame">
    <div class="bg-box">
      <img src="/images/cover1.jpg" alt="image frame" />
    </div>
    <div class="cover-inner text-center text-white">
      <h1><a href="/">Gavin&#39;s Blog</a></h1>
      <div id="subtitle-box">
        
        <span id="subtitle"></span>
        
      </div>
      <div>
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>



<script src="https://cdn.staticfile.org/typed.js/2.0.12/typed.min.js"></script>


<!-- Subtitle -->

  <script>
    try {
      var typed = new Typed("#subtitle", {
        strings: ['é¢æœå¤§æµ·ï¼Œæ˜¥æš–èŠ±å¼€', 'æ„¿ä½ ä¸€ç”ŸåŠªåŠ›ï¼Œä¸€ç”Ÿè¢«çˆ±', 'æƒ³è¦çš„éƒ½æ‹¥æœ‰ï¼Œå¾—ä¸åˆ°çš„éƒ½é‡Šæ€€'],
        startDelay: 0,
        typeSpeed: 200,
        loop: true,
        backSpeed: 100,
        showCursor: true
      });
    } catch (err) {
      console.log(err)
    }
  </script>
  
<div id="main">
  <section class="outer">
  
  
  

<div class="notice" style="margin-top:50px">
    <i class="ri-heart-fill"></i>
    <div class="notice-content" id="broad"></div>
</div>
<script type="text/javascript">
    fetch('https://v1.hitokoto.cn')
        .then(response => response.json())
        .then(data => {
            document.getElementById("broad").innerHTML = data.hitokoto;
        })
        .catch(console.error)
</script>

<style>
    .notice {
        padding: 20px;
        border: 1px dashed #e6e6e6;
        color: #969696;
        position: relative;
        display: inline-block;
        width: 100%;
        background: #fbfbfb50;
        border-radius: 10px;
    }

    .notice i {
        float: left;
        color: #999;
        font-size: 16px;
        padding-right: 10px;
        vertical-align: middle;
        margin-top: -2px;
    }

    .notice-content {
        display: initial;
        vertical-align: middle;
    }
</style>
  
  <article class="articles">
    
    
    
    
    <article
  id="[layout]-iOSé›†æˆèäº‘SDKå³æ—¶é€šè®¯æ•´ç†"
  class="article article-type-[layout]"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2018/03/29/iOS%E9%9B%86%E6%88%90%E8%9E%8D%E4%BA%91SDK%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF%E6%95%B4%E7%90%86/"
    >iOSé›†æˆèäº‘SDKå³æ—¶é€šè®¯æ•´ç†</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2018/03/29/iOS%E9%9B%86%E6%88%90%E8%9E%8D%E4%BA%91SDK%E5%8D%B3%E6%97%B6%E9%80%9A%E8%AE%AF%E6%95%B4%E7%90%86/" class="article-date">
  <time datetime="2018-03-29T06:36:05.000Z" itemprop="datePublished">2018-03-29</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/iOS/">iOS</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="iOSé›†æˆèäº‘SDKå³æ—¶é€šè®¯æ•´ç†"><a href="#iOSé›†æˆèäº‘SDKå³æ—¶é€šè®¯æ•´ç†" class="headerlink" title="iOSé›†æˆèäº‘SDKå³æ—¶é€šè®¯æ•´ç†"></a>iOSé›†æˆèäº‘SDKå³æ—¶é€šè®¯æ•´ç†</h2><blockquote>
<p>æœ€è¿‘å¾ˆå°‘å†™ä¸€ä¸‹é¡¹ç›®æ€»ç»“äº†ï¼Œæœ€è¿‘é¡¹ç›®è™½ç„¶åšäº†å¾ˆå¤šï¼Œä½†æ˜¯éƒ½æ˜¯ä¸€äº›å¤–åŒ…é¡¹ç›®ï¼Œåšä¸‹æ¥ä¹Ÿæ²¡æœ‰ä»€ä¹ˆå€¼å¾—æ€»ç»“çš„ã€‚æœ€è¿‘ä¸€ä¸ªé¡¹ç›®ç”¨åˆ°äº†èäº‘å³æ—¶é€šè®¯ï¼Œä»¥å‰åŸºæœ¬éƒ½æ˜¯ç”¨ç¯ä¿¡ï¼Œæ‰€ä»¥è¿˜é‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œåœ¨æ­¤æ€»ç»“ä¸€ä¸‹è®°å½•ä¸€ä¸‹ã€‚</p>
</blockquote>
<h3 id="å¤´åƒã€æ˜µç§°ç­‰ç”¨æˆ·ä¿¡æ¯-èäº‘å¯¹è¿™ä¸ªé—®é¢˜æœ‰ä¸¤ç§å¤„ç†æ–¹å¼"><a href="#å¤´åƒã€æ˜µç§°ç­‰ç”¨æˆ·ä¿¡æ¯-èäº‘å¯¹è¿™ä¸ªé—®é¢˜æœ‰ä¸¤ç§å¤„ç†æ–¹å¼" class="headerlink" title="å¤´åƒã€æ˜µç§°ç­‰ç”¨æˆ·ä¿¡æ¯(èäº‘å¯¹è¿™ä¸ªé—®é¢˜æœ‰ä¸¤ç§å¤„ç†æ–¹å¼)"></a>å¤´åƒã€æ˜µç§°ç­‰ç”¨æˆ·ä¿¡æ¯(èäº‘å¯¹è¿™ä¸ªé—®é¢˜æœ‰ä¸¤ç§å¤„ç†æ–¹å¼)</h3><p><strong>ç”¨æˆ·ä¿¡æ¯æä¾›è€…</strong></p>
<blockquote>
<p>å®ç°æ­¥éª¤(ä»¥ä¸‹ä»£ç æ”¾åœ¨å•ä¾‹ä¸­ï¼Œå¯ä»¥æ˜¯AppDelegateï¼Œæœ€å¥½å•ç‹¬å†™ä¸€ä¸ªå•ä¾‹)  </p>
<p>é¦–å…ˆéµå®ˆRCIMUserInfoDataSourceè¿™ä¸ªåè®® </p>
</blockquote>
<p><strong>ç„¶åæ˜¯è¦è®¾ç½®ä»£ç†</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[[RCIM sharedRCIM] setUserInfoDataSource:self]; </span><br></pre></td></tr></table></figure>
<p><strong>æœ€åå®ç°ä»£ç†æ–¹æ³•ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">- (void)getUserInfoWithUserId:(NSString *)userId completion:(void (^)(RCUserInfo *))completion &#123;</span><br><span class="line">    NSLog(@&quot;getUserInfoWithUserId ----- %@&quot;, userId);</span><br><span class="line">    RCUserInfo *user = [RCUserInfo new];</span><br><span class="line">    if (userId == nil || [userId length] == 0) &#123;</span><br><span class="line">        user.userId = userId;</span><br><span class="line">        user.portraitUri = @&quot;&quot;;</span><br><span class="line">        user.name = @&quot;&quot;;</span><br><span class="line">        completion(user);</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    if ([userId isEqualToString:[UserInfo shareInstance].uid]) &#123;</span><br><span class="line">        NSString *urlSelf = [BASIC_URL_image stringByAppendingString:[UserInfo shareInstance].photo];</span><br><span class="line">        return completion([[RCUserInfo alloc] initWithUserId:userId name:[UserInfo shareInstance].nickname portrait:urlSelf]);</span><br><span class="line">    &#125;else &#123;</span><br><span class="line">    </span><br><span class="line">  //æ ¹æ®å­˜å‚¨è”ç³»äººä¿¡æ¯çš„æ¨¡å‹ï¼Œé€šè¿‡ userId æ¥å–å¾—å¯¹åº”çš„nameå’Œå¤´åƒurlï¼Œè¿›è¡Œä»¥ä¸‹è®¾ç½®</span><br><span class="line">    [WTBaseHttpRequst postRequstWithURL:getUserHttp params:@&#123;@&quot;uid&quot;:[UserInfo shareInstance].uid, @&quot;api_token&quot;:[UserInfo shareInstance].api_token, @&quot;k_uid&quot;:userId&#125; successBlock:^(NSDictionary *returnData) &#123;</span><br><span class="line">        if ([returnData[@&quot;status&quot;] integerValue] == 1) &#123;</span><br><span class="line">            NSString *urlStr = [BASIC_URL_image stringByAppendingString:returnData[@&quot;data&quot;][@&quot;user&quot;][@&quot;photo&quot;]];</span><br><span class="line">            return completion([[RCUserInfo alloc] initWithUserId:userId name:returnData[@&quot;data&quot;][@&quot;user&quot;][@&quot;nickname&quot;] portrait:urlStr]);</span><br><span class="line">        &#125;else &#123;</span><br><span class="line">            completion(user);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; failureBlock:^(NSString *error) &#123;</span><br><span class="line">        completion(user);</span><br><span class="line">    &#125; showHUD:NO];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è¿™ä¸ªæ–¹æ³•ä¸éœ€è¦ä½ è‡ªå·±æ‰‹åŠ¨è°ƒç”¨ï¼Œåªæ˜¯å½“ä½ åœ¨ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯æ—¶è°ƒç”¨æ–¹æ³•å³å¯</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[[RCIM sharedRCIM] refreshUserInfoCache:user withUserId:[UserInfo shareInstance].uid]</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">WS(weakSelf);</span><br><span class="line">// ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯è°ƒç”¨</span><br><span class="line">[WTBaseHttpRequst postRequstWithURL:modifyInfoHttp params:dict successBlock:^(NSDictionary *returnData) &#123;</span><br><span class="line">    [weakSelf MBProgressHudShowWithTextOnlyWithText:returnData[@&quot;msg&quot;]];</span><br><span class="line">    if ([returnData[@&quot;status&quot;] integerValue] == 1) &#123;</span><br><span class="line">        RCUserInfo *user = [RCUserInfo new];</span><br><span class="line">        user.userId = [UserInfo shareInstance].uid;</span><br><span class="line">        user.portraitUri = [BASIC_URL_image stringByAppendingString:[UserInfo shareInstance].photo];</span><br><span class="line">        user.name = weakSelf.nickNameTextField.text;</span><br><span class="line">        [[RCIM sharedRCIM] refreshUserInfoCache:user withUserId:[UserInfo shareInstance].uid];</span><br><span class="line">        dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(1.5 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^&#123;</span><br><span class="line">            [self.navigationController popViewControllerAnimated:YES];</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125; failureBlock:^(NSString *error) &#123;</span><br><span class="line">    [weakSelf MBProgressHudShowWithTextOnlyWithText:error];</span><br><span class="line">&#125; showHUD:YES];</span><br></pre></td></tr></table></figure>

<p><strong>åœ¨æ‰©å±•æ¶ˆæ¯ä¸­æºå¸¦ç”¨æˆ·ä¿¡æ¯</strong></p>
<blockquote>
<p>è®¾ç½®å‘é€æ¶ˆæ¯æ—¶åœ¨æ¶ˆæ¯ä½“ä¸­æºå¸¦ç”¨æˆ·ä¿¡æ¯(ä»2.4.1 ä¹‹åé™„åŠ ç”¨æˆ·ä¿¡æ¯ä¹‹åcellé»˜è®¤ä¼šæ˜¾ç¤ºé™„åŠ çš„ç”¨æˆ·ä¿¡æ¯çš„å¤´åƒï¼Œå³ç”¨æˆ·ä¿¡æ¯ä¸ä¼šå–ç”¨æˆ·ä¿¡æ¯æä¾›è€…é‡Œæä¾›çš„ç”¨æˆ·ä¿¡æ¯)</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[RCIM sharedRCIM].enableMessageAttachUserInfo = YES; </span><br><span class="line">```  </span><br><span class="line">  </span><br><span class="line">**ä½ è®¾ç½®äº†enableMessageAttachUserInfoä¹‹åï¼Œå¯ä»¥å–åˆ°**</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>&#x2F;**  </p>
<ul>
<li>å‘é€è€…ä¿¡æ¯</li>
<li>**&#x2F;<br>@property(nonatomic, strong) RCUserInfo *senderUserInfo; <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">   </span><br><span class="line">**å½“ç„¶æˆ‘è§‰å¾—è¿˜å¯ä»¥ä»åå°è·å–å¥½å‹å…³ç³»åï¼Œæˆ‘ä»¬åœ¨æ¯æ¬¡ç™»é™†åï¼Œå¼€ä¸€ä¸ªçº¿ç¨‹æŠŠå¥½å‹å…³ç³»è¯·æ±‚ä¸‹æ¥å­˜èµ·æ¥ç„¶åæ ¹æ®ç¯ä¿¡IDæŸ¥æ‰¾å¥½å‹çš„æ˜µç§°å’Œå¤´åƒ**</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### ç»™è¾“å…¥æ¡†æ·»åŠ æç¤ºè¯­(è¿™ä¸ªæˆ‘ä¸€ç›´è§‰å¾—ç¯ä¿¡åº”è¯¥ç»™äº†æ–¹æ³•ä¿®æ”¹ï¼Œåªæ˜¯æˆ‘ä¸€ç›´æ²¡æœ‰æ‰¾åˆ°è¿™ä¸ªæ–¹æ³•ï¼Œæ‰€ä»¥åªæœ‰è‡ªå·±å»å†™äº†)</span><br><span class="line">  </span><br><span class="line">**åˆ›å»ºæç¤ºçš„label**</span><br><span class="line"></span><br></pre></td></tr></table></figure>
_lab &#x3D; [[UILabel alloc] initWithFrame:self.chatSessionInputBarControl.inputTextView.bounds];<br>_lab.text &#x3D; @â€è¯·è¾“å…¥æ–‡å­—ä¿¡æ¯â€¦â€;<br>_lab.textColor &#x3D; [UIColor colorWithHexColor:@â€ddddddâ€];<br>_lab.font &#x3D; [UIFont systemFontOfSize:15];<br>_lab.center &#x3D; CGPointMake(_lab.center.x + 15, _lab.center.y);<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">**åˆ¤å®šæ˜¯å¦æœ‰è‰ç¨¿æ¥æ˜¾ç¤ºå’Œéšè—æç¤ºçš„label**</span><br><span class="line"></span><br></pre></td></tr></table></figure>
[self.chatSessionInputBarControl.inputTextView addSubview:_lab];<br>if (self.chatSessionInputBarControl.draft &#x3D;&#x3D; nil || self.chatSessionInputBarControl.draft.length &#x3D;&#x3D; 0) {<br> _lab.hidden &#x3D; NO;<br>}else {<br> _lab.hidden &#x3D; YES;<br>}<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">**æ ¹æ®è¾“å…¥æ•°æ®æ¥åˆ¤å®šæ˜¾ç¤ºéšè—æç¤ºlabel**</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<ul>
<li>(void)inputTextView:(UITextView *)inputTextView shouldChangeTextInRange:(NSRange)range replacementText:(NSString *)text {<br>  if (((inputTextView.text.length &#x3D;&#x3D; 1 &amp;&amp; [text isEqualToString:@â€â€]) || (inputTextView.text.length &#x3D;&#x3D; 0 &amp;&amp; text.length &gt; 0))  &amp;&amp; range.length &#x3D;&#x3D; 1 &amp;&amp; range.location &#x3D;&#x3D; 0) {<br>  _lab.hidden &#x3D; NO;<br>  }else {<br>  _lab.hidden &#x3D; YES;<br>  }<br>}<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### å–æ¶ˆè¾“å…¥@å¼¹å‡ºå¥½å‹åˆ—è¡¨ç•Œé¢ï¼Œä¿ç•™é•¿æŒ‰å¤´åƒ@æ–¹æ³•</span><br><span class="line"></span><br><span class="line">**é¦–å…ˆåœ¨AppDelegateä¸­å¼€å¯æ¶ˆæ¯@åŠŸèƒ½ï¼ˆåªæ”¯æŒç¾¤èŠå’Œè®¨è®ºç»„, Appéœ€è¦å®ç°ç¾¤æˆå‘˜æ•°æ®æºgroupMemberDataSourceï¼‰**</span><br><span class="line"></span><br></pre></td></tr></table></figure>
[RCIM sharedRCIM].enableMessageMentioned &#x3D; YES;</li>
</ul>
<p>ç„¶ååœ¨ç»§æ‰¿RCConversationViewControllerçš„æ§åˆ¶å™¨ä¸­è°ƒç”¨<br>-(void)showChooseUserViewController:(void (^)(RCUserInfo *selectedUserInfo))selectedBlock<br>                         cancel:(void (^)())cancelBlock {<br>}</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">### åœ¨ä¼šè¯åˆ—è¡¨ä¸­æ·»åŠ ä¸€äº›å›ºå®šçš„cell(ç»§æ‰¿RCConversationListViewController)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>&#x2F;&#x2F; å¯¹è‡ªå®šä¹‰cellèµ‹å€¼</p>
<ul>
<li>(RCConversationBaseCell *)rcConversationListTableView:(UITableView *)tableView<br>                            cellForRowAtIndexPath:(NSIndexPath *)indexPath {<br>  RCCustomCell *cell &#x3D; (RCCustomCell *)[[RCCustomCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:@â€RCCustomCellâ€];<br>  RCConversationModel *model &#x3D; self.conversationListDataSource[indexPath.row];<br>  cell.nameLabel.text &#x3D; model.conversationTitle;<br>  return cell;<br>}</li>
</ul>
<p>&#x2F;&#x2F; æ·»åŠ è‡ªå®šä¹‰cellçš„æ•°æ®æº</p>
<ul>
<li>(NSMutableArray *)willReloadTableData:(NSMutableArray *)dataSource{<br>  NSArray *arr &#x3D; @[@â€è®ºå›å›å¤å’Œ@æˆ‘çš„â€, @â€é™Œç”Ÿäººç§ä¿¡â€, @â€å¹¸å­˜è€…éƒ¨è½@æˆ‘çš„â€, @â€é—®å·è°ƒæŸ¥â€];<br>  for (int i &#x3D; 0; i&lt;arr.count; i++) {<br>  RCConversationModel *model &#x3D; [[RCConversationModel alloc]init];<br>  model.conversationModelType &#x3D; RC_CONVERSATION_MODEL_TYPE_CUSTOMIZATION;<br>  model.conversationTitle &#x3D; arr[i];<br>  model.isTop &#x3D; YES;<br>  [dataSource insertObject:model atIndex:i];<br>  }<br>  return dataSource;<br>}</li>
</ul>
<p>&#x2F;&#x2F; ç‚¹å‡»cellè·³è½¬</p>
<ul>
<li>(void)onSelectedTableRow:(RCConversationModelType)conversationModelType<br>   conversationModel:(RCConversationModel *)model<br>     atIndexPath:(NSIndexPath *)indexPath{<br>  if (indexPath.row &#x3D;&#x3D; 0) {<br>  WTForumAndConnectListViewController *chatList &#x3D; (WTForumAndConnectListViewController *)[WTStoryBoardSegment instantiateViewControllerWithStoryBoardName:@â€Mainâ€ identifier:@â€WTForumAndConnectListViewControllerâ€];<br>  chatList.title &#x3D; @â€å›å¤å’Œ@æˆ‘çš„â€;<br>  [self.navigationController pushViewController:chatList animated:YES];<br>  }else if (indexPath.row &#x3D;&#x3D; 1) {<br>  WTChatListViewController *chatList &#x3D; [[WTChatListViewController alloc] init];<br>  chatList.title &#x3D; @â€é™Œç”Ÿäººç§ä¿¡â€;<br>  chatList.isEnteredToCollectionViewController &#x3D; YES;<br>  chatList.type &#x3D; 1;<br>  chatList.friendArray &#x3D; self.friendArray;<br>  [self.navigationController pushViewController:chatList animated:YES];<br>  }else if (indexPath.row &#x3D;&#x3D; 2) {<br>  WTChatListViewController *chatList &#x3D; [[WTChatListViewController alloc] init];<br>  chatList.title &#x3D; @â€å¹¸å­˜è€…éƒ¨è½@æˆ‘çš„â€;<br>  chatList.isEnteredToCollectionViewController &#x3D; YES;<br>  chatList.type &#x3D; 2;<br>  [self.navigationController pushViewController:chatList animated:YES];<br>  }else if (indexPath.row &#x3D;&#x3D; 3) {<br>  WTQuestionnaireViewController *questionnaire &#x3D; (WTQuestionnaireViewController *)[WTStoryBoardSegment instantiateViewControllerWithStoryBoardName:@â€Mainâ€ identifier:@â€WTQuestionnaireViewControllerâ€];<br>  [self.navigationController pushViewController:questionnaire animated:YES];<br>  }else {<br>  &#x2F;&#x2F;ç‚¹å‡»cellï¼Œæ‹¿åˆ°cellå¯¹åº”çš„modelï¼Œç„¶åä»modelä¸­æ‹¿åˆ°å¯¹åº”çš„RCUserInfoï¼Œç„¶åèµ‹å€¼ä¼šè¯å±æ€§ï¼Œè¿›å…¥ä¼šè¯<br>  if (model.conversationType &#x3D;&#x3D; ConversationType_PRIVATE) {&#x2F;&#x2F;å•èŠ<br>      WTMyConversationLisViewController *_conversationVC &#x3D; [[WTMyConversationLisViewController alloc]init];<br>      _conversationVC.conversationType &#x3D; model.conversationType;<br>      _conversationVC.targetId &#x3D; model.targetId;<br>      _conversationVC.title &#x3D; model.conversationTitle;<br>      [self.navigationController pushViewController:_conversationVC animated:YES];<br>  }else if (model.conversationType &#x3D;&#x3D; ConversationType_GROUP){&#x2F;&#x2F;ç¾¤èŠ<br>      WTMyConversationLisViewController *_conversationVC &#x3D; [[WTMyConversationLisViewController alloc]init];<br>      _conversationVC.conversationType &#x3D; model.conversationType;<br>      _conversationVC.title &#x3D; model.conversationTitle;<br>      _conversationVC.targetId &#x3D; model.targetId;<br>      [self.navigationController pushViewController:_conversationVC animated:YES];<br>  }<br>  }<br>}<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### åœ¨ä»»æ„åœ°æ–¹è·å–èŠå¤©åˆ—è¡¨æ•°é‡åŠåˆ é™¤åˆ—è¡¨</span><br><span class="line"></span><br><span class="line">**è·å–èŠå¤©åˆ—è¡¨**   </span><br><span class="line"></span><br></pre></td></tr></table></figure>
NSArray *privateArr &#x3D; [[RCIMClient sharedRCIMClient] getConversationList:@[@(ConversationType_PRIVATE)]];<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">**åœ¨ConversationListæ·»åŠ å¯¹åº”ç±»å‹çš„èŠå¤©å°±å¯ä»¥è·å–å¯¹åº”ç±»å‹çš„èŠå¤©åˆ—è¡¨åˆ é™¤æ–¹æ³•ç±»ä¼¼**</span><br><span class="line"></span><br></pre></td></tr></table></figure>
[[RCIMClient sharedRCIMClient] clearConversations:@[@(ConversationType_PRIVATE)]];</li>
</ul>
<pre><code>
### èƒŒæ™¯å›¾

&gt; èäº‘èŠå¤©åˆ—è¡¨æ²¡æœ‰æ•°æ®çš„é»˜è®¤å›¾ç‰‡ä¸‹é¢æœ‰ç‚¹å‡»å³ä¸Šè§’åŠ å…¥èŠå¤©ï¼Œå¯æ˜¯ä¸æ˜¯æ‰€æœ‰çš„èŠå¤©éƒ½æœ‰è¿™ä¸ªåŠŸèƒ½(æˆ‘çš„å°±æ²¡æœ‰)å¦‚ä½•æ²¡æœ‰å°±å¯ä»¥åœ¨èµ„æºæ–‡ä»¶ä¸­æ‰¾åˆ° no\_message\_img è¿™å¼ å›¾ç‰‡ç”¨pså»æ‰ä¸‹é¢çš„é‚£ä¸€è¡Œå­—

### å…¶å®ƒ

&gt; ä»¥ä¸Šå°±æ˜¯æˆ‘åœ¨ä½¿ç”¨èäº‘è¿‡ç¨‹ä¸­é‡åˆ°çš„ä¸€äº›é—®é¢˜åŠè§£å†³æ–¹æ³•ï¼Œå¦‚æœæœ‰é”™è¯¯æˆ–è€…ä¸è¶³ä¹‹å¤„è¿˜æœ›æŒ‡æ­£ï¼Œè°¢è°¢ï¼
</code></pre>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E2%80%9CiOS%E2%80%9D/" rel="tag">â€œiOSâ€</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E2%80%9C%E8%9E%8D%E4%BA%91%E2%80%9D/" rel="tag">â€œèäº‘â€</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="[layout]-UISearchBarè¯¦è§£"
  class="article article-type-[layout]"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2017/03/11/UISearchBar%E8%AF%A6%E8%A7%A3/"
    >UISearchBarè¯¦è§£</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2017/03/11/UISearchBar%E8%AF%A6%E8%A7%A3/" class="article-date">
  <time datetime="2017-03-10T16:27:34.000Z" itemprop="datePublished">2017-03-11</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/swift/">swift</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<p>ä»Šå¤©å…¬å¸çš„é¡¹ç›®æµ‹è¯•çš„å·®ä¸å¤šäº†ï¼ŒåŸºæœ¬å¯ä»¥ä¸Šæ¶äº†ï¼Œåˆæœ‰æ—¶é—´æ¥åˆ†äº«ä¸€ä¸‹æœ€è¿‘é‡åˆ°çš„ä¸€äº›é—®é¢˜äº†ï¼Œå…¬å¸çš„é¡¹ç›®è¿›è¡Œäº†å¤§æ”¹ç‰ˆï¼ˆåº”è¯¥æ˜¯å…¨æ”¹äº†ï¼ŒåŸºæœ¬æ˜¯ä¸€ä¸ªæ–°çš„é¡¹ç›®äº†ï¼‰ï¼Œè€å¤§å†³å®šç”¨swifté‡å†™ã€‚ä¹‹å‰ä¸€ç›´åœ¨è‡ªå­¦swiftï¼Œç»ˆäºè¿™ä¸€æ¬¡å¯ä»¥å®æˆ˜äº†ã€‚é¡¹ç›®ä¸­æœç´¢ç”¨çš„æ¯”è¾ƒå¤šï¼Œä½†æ˜¯æœç´¢æ¡†çš„æ ·å¼ä¸é»˜è®¤çš„å·®åˆ«å¤ªå¤§äº†ï¼Œæ‰€ä»¥åªèƒ½è‡ªå®šä¹‰äº†ã€‚</p>
</blockquote>
<p>The UISearchBar class implements a text field control for text-based searches. The control provides a text field for entering text, a search button, a bookmark button, and a cancel button. The UISearchBar object does not actually perform any searches. You use a delegate, an object conforming to the UISearchBarDelegate protocol, to implement the actions when text is entered and buttons are clicked.</p><p>

<blockquote>
<p>ä»¥ä¸Šæ˜¯è‹¹æœå¯¹UISearchBarçš„è§£é‡Šï¼Œå¯ä»¥çœ‹è§UISearchBaræä¾›äº†ç±»ä¼¼UITextFieldçš„è¾“å…¥ï¼ˆå…¶å®å®ƒçš„ç»„æˆä¸­å°±æœ‰UITextFieldï¼Œä¸‹é¢ä¼šè®²åˆ°ï¼‰ï¼Œå³è¾¹æœ‰æœç´¢æŒ‰é’®ã€æ ‡ç­¾æŒ‰é’®ã€å…³é—­æŒ‰é’®å¯ä¾›é€‰æ‹©ï¼Œæœç´¢éƒ½æ˜¯åœ¨åè®®UISearchBarDelegateä¸­è¿›è¡Œã€‚</p>
</blockquote>
</p><p><strong>è‡ªå®šä¹‰å¤–è§‚</strong></p>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/7efbcef7e9cb93c4383fe6794bdbefdf.webp?x-image-process=image/format,png" alt="é»˜è®¤æœç´¢å¤–è§‚"></p>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/226c294545fe64cc3f3f91cd71df0146.webp?x-image-process=image/format,png" alt="é¡¹ç›®æœç´¢å¤–è§‚"></p>
<blockquote>
<p>UISearchBarçš„å±‚çº§å¾ˆæ˜¯å¤æ‚ä¸»è¦ç”±UISearchBarBackgroudã€UISearchBarTextFieldã€<br>UINavigationButtonç»„æˆï¼Œå…¶ä¸­UISearchBarTextFieldå°±æ˜¯è¾“å…¥æ¡†ï¼Œä¸»è¦æ˜¯ç”±â€”â€”UISearchBarSearchFieldBackgroundViewã€UIButtonï¼ˆâŒï¼‰ã€UIImageViewï¼ˆ?ï¼‰ç­‰ç»„æˆï¼Œ</p>
</blockquote>
<p><strong>è·å–TextFieldæ–¹æ³•ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let searchFiled:UITextField = self.searchBar.value(forKey: &quot;_searchField&quot;) as! UITextField</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>è¿™æ ·å°±å¯ä»¥é€šè¿‡ä¿®æ”¹	searchFiledæ¥ä¿®æ”¹è¾“å…¥æ ·å¼ï¼ˆåœ†è§’ã€å­—ä½“ç­‰ï¼‰ã€‚</strong></p>
<blockquote>
<p>UISearchBarçš„ç›´æ¥å­æ§ä»¶æ˜¯UIVIewï¼Œå…¶ä¸Šçš„å­æ§ä»¶UISearchBarBackgroudçš„frameä¸UISearchBarçš„boundsç›¸ç­‰ï¼ŒUISearchBarTextFieldçš„é«˜åº¦é»˜è®¤ä¸º28ä¸UISearchBarå·¦å³æœ‰8åƒç´ çš„å›ºå®šé—´è·ï¼Œä¸Šä¸‹é—´è·ä¸ºç›´æ¥å­æ§ä»¶UIViewçš„é«˜åº¦ - UISearchBarTextFieldçš„é»˜è®¤é«˜åº¦28 å†é™¤ä»¥2ã€‚å› æ­¤UISearchBarçš„è¾“å…¥æ¡†å§‹ç»ˆä¸è®¾ç½®çš„frameä¸ä¸€æ ·ï¼Œä¸ä¾¿äºå¸ƒå±€ï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ ä¸€ä¸ªå­ç±»ç»§æ‰¿UISearchBarï¼Œå¯ä»¥æ›´æ”¹å…¶å†…è¾¹è·ã€‚</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">class MySearchBar: UISearchBar &#123;</span><br><span class="line">    </span><br><span class="line">    // ç›‘å¬æ˜¯å¦æ·»åŠ äº†è¯¥å±æ€§</span><br><span class="line">    var contentInset: UIEdgeInsets? &#123;</span><br><span class="line">        didSet &#123;</span><br><span class="line">            self.layoutSubviews()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    override func layoutSubviews() &#123;</span><br><span class="line">        super.layoutSubviews()</span><br><span class="line">        // ä¾¿åˆ©å¯»æ‰¾</span><br><span class="line">        for view in self.subviews &#123;</span><br><span class="line">            for subview in view.subviews &#123;</span><br><span class="line">                // åˆ¤å®šæ˜¯å¦æ˜¯UISearchBarTextField</span><br><span class="line">                if subview.isKind(of: UITextField.classForCoder()) &#123;</span><br><span class="line">                    if let textFieldContentInset = contentInset &#123;</span><br><span class="line">                        // ä¿®æ”¹UISearchBarTextFieldçš„å¸ƒå±€</span><br><span class="line">                        subview.frame = CGRect(x: textFieldContentInset.left, y: textFieldContentInset.top, width: self.bounds.width - textFieldContentInset.left - textFieldContentInset.right, height: self.bounds.height - textFieldContentInset.top - textFieldContentInset.bottom)</span><br><span class="line">                    &#125; else &#123;</span><br><span class="line">                        // è®¾ç½®UISearchBarä¸­UISearchBarTextFieldçš„é»˜è®¤è¾¹è·</span><br><span class="line">                        let top: CGFloat = (self.bounds.height - 28.0) / 2.0</span><br><span class="line">                        let bottom: CGFloat = top</span><br><span class="line">                        let left: CGFloat = 8.0</span><br><span class="line">                        let right: CGFloat = left</span><br><span class="line">                        contentInset = UIEdgeInsets(top: top, left: left, bottom: bottom, right: right)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è®©å®ä¾‹åŒ–çš„UISearchBarç»§æ‰¿MySearchBarï¼Œç„¶åå°±å¯ä»¥å¾ˆæ–¹ä¾¿çš„ç›´æ¥æ§åˆ¶å†…è¾¹è·äº†</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">self.searchBar.contentInset = UIEdgeInsets(top: 0, left: 0, bottom: 0, right: 0)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ¥ä¸‹æ¥å°±æ˜¯å¤„ç†placeholderé å·¦ï¼Œè¿™ä¸ªå°±æ¯”è¾ƒéº»çƒ¦äº†ï¼ŒæŸ¥è¯¢äº†ä¸€å¤§å †åŠæ³•éƒ½æŒºéº»çƒ¦çš„ï¼Œæœ€åæ‰¾åˆ°äº†ä¸€ä¸ªå¾ˆæŠ•æœºçš„åŠæ³•ï¼šå…ˆåˆ¤å®šæ‰‹æœºå®½åº¦ï¼Œç„¶ååœ¨placeholderå³è¾¹åŠ ä¸Šç©ºæ ¼åšæˆé å·¦çš„å‡è±¡ã€‚</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">if SCREEN.WIDTH == 320 &#123;</span><br><span class="line">           self.searchBar.placeholder = &quot;æœç´¢ä½ç½®       &quot;</span><br><span class="line">       &#125;else if SCREEN.WIDTH == 373\5 &#123;</span><br><span class="line">           self.searchBar.placeholder = &quot;æœç´¢ä½ç½®                  &quot;</span><br><span class="line">       &#125;else if SCREEN.WIDTH == 414 &#123;</span><br><span class="line">           self.searchBar.placeholder = &quot;æœç´¢ä½ç½®                                 &quot;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>ç„¶ååœ¨storyboardä¸­è®¾ç½®searchBarçš„BarStyleä¸ºMinimalå°±å¯ä»¥å¾ˆæ–¹ä¾¿çš„æ§åˆ¶UISearchBarçš„å¤–è§‚äº†ã€‚<br>åˆ°è¿™é‡Œå°±å‰©ä¸€ä¸ªé—®é¢˜äº†ï¼šUISearchBarä¸Šä¸‹çš„ä¸¤æ ¹é»‘çº¿äº†ï¼Œ</p>
</blockquote>
<p><strong>å»é™¤æ–¹æ³•ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">self.searchBar.setBackgroundImage(UIImage.init(), for: .any, barMetrics: .default)</span><br></pre></td></tr></table></figure>

<p><strong>æœç´¢çš„ä½¿ç”¨</strong></p>
<blockquote>
<p>å¦‚è‹¹æœå®˜æ–¹æ–‡æ¡£æ‰€è¯´ï¼Œä¸æœç´¢ç›¸å…³çš„éƒ½æ˜¯åœ¨å…¶ä»£ç†æ–¹æ³•ä¸­å®Œæˆã€‚UISearchBaræœ‰å¾ˆå¤šçš„ä»£ç†æ–¹æ³•ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥ç‚¹å‡»è¿›å…¥æŸ¥çœ‹</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://developer.apple.com/reference/uikit/uisearchbardelegate">UISearchBarDelegate</a>æˆ‘å°±ä»‹ç»å‡ ä¸ªå¸¸ç”¨çš„ï¼š</p>
<blockquote>
<p>å½“æœç´¢å†…å®¹å˜åŒ–æ—¶ï¼Œæ‰§è¡Œè¯¥æ–¹æ³•,å¯ä»¥å®æ—¶ç›‘å¬è¾“å…¥æ¡†çš„å˜åŒ–,å¯ä»¥å®ç°æ—¶å®æœç´¢ã€‚</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- (BOOL)searchBar:(UISearchBar *)searchBar shouldChangeTextInRange:(NSRange)range replacementText:(NSString *)textNS_AVAILABLE_IOS(3_0);                 // called before text changes</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>ä¹Ÿè¡Œä½ æƒ³æŠŠæœç´¢äº‹ä»¶æ”¾åœ¨ç‚¹å‡»æœç´¢ä»¥åå†è§¦å‘ï¼Œé‚£å°±é€‰ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå®ƒå°±æ˜¯ç‚¹å‡»æœç´¢åçš„ä»£ç†æ–¹æ³•</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- (void)searchBarSearchButtonClicked:(UISearchBar *)searchBar;</span><br></pre></td></tr></table></figure>

<h3 id="ç»“æŸ"><a href="#ç»“æŸ" class="headerlink" title="ç»“æŸ"></a>ç»“æŸ</h3><blockquote>
<p>å½“ç„¶å¦‚æœä½ è§‰å¾—è¿™æ ·å¤ªéº»çƒ¦äº†ï¼Œä½ è¿˜å¯ä»¥é€‰æ‹©ç”¨UITextFieldæ¥å®ç°UISearchBarçš„åŠŸèƒ½ï¼Œä½†æ˜¯æœ€ç»ˆå“ªä¸€ä¸ªæ›´åŠ çš„éº»çƒ¦è¿˜éœ€è¦è¯•ä¸€è¯•æ‰çŸ¥é“ã€‚</p>
</blockquote>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E2%80%9CUISearchBar%E2%80%9D/" rel="tag">â€œUISearchBarâ€</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E2%80%9CiOS%E2%80%9D/" rel="tag">â€œiOSâ€</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E2%80%9Cswift%E2%80%9D/" rel="tag">â€œswiftâ€</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="[layout]-å¾®ä¿¡å°ç¨‹åºtips"
  class="article article-type-[layout]"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2017/02/22/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8Ftips/"
    >å¾®ä¿¡å°ç¨‹åºtips</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2017/02/22/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8Ftips/" class="article-date">
  <time datetime="2017-02-21T17:19:52.000Z" itemprop="datePublished">2017-02-22</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/">å¾®ä¿¡å°ç¨‹åº</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<p>æœ€è¿‘å…¬å¸é¡¹ç›®æ”¹ç‰ˆï¼Œè¶äº§å“ä¿®æ”¹ä¸UIå‡ºå›¾çš„é—´æ­‡ç”¨å…¬å¸å•†æˆ·ç«¯UIå›¾æ’¸äº†ä¸€æŠŠå¾®ä¿¡å°ç¨‹åºã€‚å› ä¸ºåˆšåˆšå®ä¹ é‚£ä¸€ä¼šæ¥è§¦è¿‡å‰ç«¯å¼€å‘ï¼Œæ‰€ä»¥ä¸Šæ‰‹è¿˜æ¯”è¾ƒå¿«ï¼Œå½“ç„¶ä¹Ÿé‡åˆ°äº†å¾ˆå¤šçš„é—®é¢˜ï¼Œä¸è¿‡å¥½åœ¨åŸºæœ¬æŒ‰å›¾å®Œæˆã€‚è¶æ­¤æ€»ç»“ä¸€ä¸‹æˆ‘é‡åˆ°çš„é—®é¢˜,å¥‰ä¸Šä¸€äº›å¯è¡Œçš„è§£å†³æ–¹æ¡ˆï¼Œå¸Œæœ›å¯ä»¥å¸®åŠ©ä¸æˆ‘é‡åˆ°ç›¸åŒé—®é¢˜çš„æœ‹å‹ã€‚<a target="_blank" rel="noopener" href="https://github.com/GavinCarter1991/wx-onePro">demo</a> </p>
</blockquote>
<h3 id="å…ˆä¸Šå›¾"><a href="#å…ˆä¸Šå›¾" class="headerlink" title="å…ˆä¸Šå›¾"></a>å…ˆä¸Šå›¾</h3><p><img src="https://i-blog.csdnimg.cn/blog_migrate/b6d605c3b3e52fc14fcf8b758b6c4b33.webp?x-image-process=image/format,png" alt="å¾®ä¿¡å°ç¨‹åº"></p>
<h3 id="tips"><a href="#tips" class="headerlink" title="tips"></a>tips</h3><p><strong>èƒŒæ™¯å›¾ç‰‡ä¸èƒ½ä½¿ç”¨æœ¬åœ°çš„</strong></p>
<blockquote>
<p>è¿™ä¸ªé—®é¢˜å‘äº†æˆ‘å¾ˆä¹…ï¼Œå› ä¸ºåœ¨æ¨¡æ‹Ÿå™¨ä¸Šè·‘æ—¶ï¼Œå°†æœ¬åœ°å›¾ç‰‡ä½œä¸ºViewçš„èƒŒæ™¯å›¾ç‰‡æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯ä¸€åˆ°çœŸæœºæµ‹è¯•å°±ä¸æ˜¾ç¤ºèƒŒæ™¯å›¾ç‰‡äº†ï¼Œä¸€å¼€å§‹è¿˜ä»¥ä¸ºæ˜¯è·¯å¾„é”™äº†ï¼Œç»è¿‡æµ‹è¯•å‘ç°è·¯å¾„æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œæœ€ååœ¨ç½‘ä¸Šæ‰¾åˆ°äº†åŸå› ï¼šå¾®ä¿¡å°ç¨‹åºçš„èƒŒæ™¯å›¾ç‰‡ä¸èƒ½æ˜¯æœ¬åœ°å›¾ç‰‡ï¼Œå¿…é¡»æ˜¯æ˜¯ç½‘ç»œå›¾ç‰‡ï¼Œäºæ˜¯æˆ‘å°±æ‰¾äº†ä¸€ä¸ªç½‘ç«™å°†å›¾ç‰‡ä¼ äº†ä¸Šå»ï¼Œå°†ç½‘å€ä½œä¸ºèƒŒæ™¯å›¾ç‰‡é“¾æ¥ï¼Œå°±å¥‡è¿¹èˆ¬çš„æ˜¾ç¤ºäº†ï¼Œå¾ˆæ˜¯æ— è¯­ã€‚</p>
</blockquote>
<h3 id="ä¸èƒ½åŠ è½½ç½‘é¡µ"><a href="#ä¸èƒ½åŠ è½½ç½‘é¡µ" class="headerlink" title="ä¸èƒ½åŠ è½½ç½‘é¡µ"></a>ä¸èƒ½åŠ è½½ç½‘é¡µ</h3><blockquote>
<p>å¾®ä¿¡å°ç¨‹åºæ˜¯ä¸èƒ½è·³è½¬åˆ°ç½‘é¡µçš„ï¼Œä¹Ÿè®¸æ˜¯å› ä¸ºå¾®ä¿¡å°ç¨‹åºæœ¬èº«å°±å¦‚åŒç½‘é¡µå§ï¼Œä¹Ÿå¯èƒ½æ˜¯å¾®ä¿¡ä¸æƒ³æœ‰äººè¶Šè¿‡å®ƒçš„å®¡æ ¸ï¼Œåæ­£ä»–æ˜¯ä¸å…è®¸ç›´æ¥åŠ è½½ç½‘é¡µçš„ã€‚</p>
</blockquote>
<h3 id="ä¸èƒ½éšè—å¯¼èˆªæ "><a href="#ä¸èƒ½éšè—å¯¼èˆªæ " class="headerlink" title="ä¸èƒ½éšè—å¯¼èˆªæ "></a>ä¸èƒ½éšè—å¯¼èˆªæ </h3><blockquote>
<p>æˆ‘çš„ç™»é™†é¡µé¢æœ¬æ¥æ˜¯ä¸åº”è¯¥æœ‰å¯¼èˆªæ çš„ï¼Œå¯æ˜¯å°±æ˜¯éšè—ä¸äº†ï¼Œä¹Ÿè®¸æœ‰æ–¹æ³•ï¼Œä½†æ˜¯æˆ‘æ‰¾äº†å¾ˆä¹…ä¹Ÿæ²¡æœ‰å‘ç°ã€‚</p>
</blockquote>
<h3 id="åªæ”¯æŒHTTPSçš„ç½‘ç»œåè®®å¹¶ä¸”ä¸€ä¸ªæœˆåªèƒ½ä¿®æ”¹5æ¬¡"><a href="#åªæ”¯æŒHTTPSçš„ç½‘ç»œåè®®å¹¶ä¸”ä¸€ä¸ªæœˆåªèƒ½ä¿®æ”¹5æ¬¡" class="headerlink" title="åªæ”¯æŒHTTPSçš„ç½‘ç»œåè®®å¹¶ä¸”ä¸€ä¸ªæœˆåªèƒ½ä¿®æ”¹5æ¬¡"></a>åªæ”¯æŒHTTPSçš„ç½‘ç»œåè®®å¹¶ä¸”ä¸€ä¸ªæœˆåªèƒ½ä¿®æ”¹5æ¬¡</h3><blockquote>
<p>åœ¨å¾®ä¿¡å°ç¨‹åºä¸­ç½‘ç»œè¯·æ±‚åªèƒ½æ˜¯httpsç±»å‹çš„ã€‚åœ¨æ·»åŠ URLçš„æ—¶å€™éƒ½å·²ç»é™åˆ¶æ­»äº†ã€‚å¹¶ä¸”ä¸€ä¸ªæœˆåªèƒ½ä¿®æ”¹5æ¬¡ï¼Œç½‘ç»œè¯·æ±‚å¿…é¡»å…ˆè¿›è¡ŒæœåŠ¡å™¨åŸŸåé…ç½®ã€‚</p>
</blockquote>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/48f1eaa31d6ea1dd09c872920e359dee.webp?x-image-process=image/format,png" alt="æ·»åŠ URL"><br>)</p>
<h3 id="æ‰€æœ‰çš„é¡µé¢éƒ½å¿…é¡»åœ¨app-jsonä¸­é…ç½®è·¯å¾„"><a href="#æ‰€æœ‰çš„é¡µé¢éƒ½å¿…é¡»åœ¨app-jsonä¸­é…ç½®è·¯å¾„" class="headerlink" title="æ‰€æœ‰çš„é¡µé¢éƒ½å¿…é¡»åœ¨app.jsonä¸­é…ç½®è·¯å¾„"></a>æ‰€æœ‰çš„é¡µé¢éƒ½å¿…é¡»åœ¨app.jsonä¸­é…ç½®è·¯å¾„</h3><blockquote>
<p>æˆ‘ä¹‹å‰æ–°å»ºä¸€ä¸ªé¡µé¢ç„¶åè·³è½¬è¿‡å»ä¸€ç›´æŠ¥è·¯å¾„é”™è¯¯ï¼Œå»ç½‘ä¸ŠæŸ¥è¯¢æ‰çŸ¥é“ï¼Œæ¯ä¸€ä¸ªé¡µé¢è·¯å¾„éƒ½éœ€è¦æå‰é…ç½®ã€‚</p>
</blockquote>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/2cb2cfa23e160b24cec566232710f644.webp?x-image-process=image/format,png" alt="é¡µé¢è·¯å¾„é…ç½®"></p>
<h3 id="ç½‘ç»œè¯·æ±‚çš„æœ€å¤§å¹¶å‘æ•°ä¸º5ã€é¡µé¢å±‚çº§æœ€å¤š5å±‚"><a href="#ç½‘ç»œè¯·æ±‚çš„æœ€å¤§å¹¶å‘æ•°ä¸º5ã€é¡µé¢å±‚çº§æœ€å¤š5å±‚" class="headerlink" title="ç½‘ç»œè¯·æ±‚çš„æœ€å¤§å¹¶å‘æ•°ä¸º5ã€é¡µé¢å±‚çº§æœ€å¤š5å±‚"></a>ç½‘ç»œè¯·æ±‚çš„æœ€å¤§å¹¶å‘æ•°ä¸º5ã€é¡µé¢å±‚çº§æœ€å¤š5å±‚</h3><blockquote>
<p>å°±æ˜¯è¯´åŒæ—¶æœ€å¤š5ä¸ªç½‘ç»œè¯·æ±‚ï¼Œé¡µé¢çš„å­é¡µé¢æœ€å¤š4ä¸ªã€‚æˆ‘åœ¨æƒ³è¦æ˜¯ä¸€ä¸ªé¡µé¢æ˜¯ä¸€ä¸ªè§†é¢‘åˆ—è¡¨å±•ç¤ºæ€ä¹ˆåŠï¼Œæ¯ä¸€ä¸ªè§†é¢‘éƒ½éœ€è¦ç½‘ç»œè¯·æ±‚å•Šã€‚</p>
<p>ä»¥ä¸Šå°±æ˜¯è¿™æ¬¡é‡åˆ°çš„ä¸€äº›æ¯”è¾ƒå˜æ€çš„é—®é¢˜ã€‚</p>
</blockquote>
<h3 id="è°ˆè°ˆæˆ‘çš„ä¸€äº›ä»£ç å®ç°"><a href="#è°ˆè°ˆæˆ‘çš„ä¸€äº›ä»£ç å®ç°" class="headerlink" title="è°ˆè°ˆæˆ‘çš„ä¸€äº›ä»£ç å®ç°"></a>è°ˆè°ˆæˆ‘çš„ä¸€äº›ä»£ç å®ç°</h3><p><strong>é…ç½®tabBar(app.json)</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&quot;tabBar&quot;: &#123;</span><br><span class="line">  &quot;color&quot;: &quot;#888888&quot;,</span><br><span class="line">  &quot;selectedColor&quot;: &quot;#09BB07&quot;,</span><br><span class="line">  &quot;backgroundColor&quot;: &quot;&quot;,</span><br><span class="line">  &quot;borderStyle&quot;: &quot;white&quot;,</span><br><span class="line">  &quot;list&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;pagePath&quot;: &quot;pages/orderManage/orderManage&quot;,</span><br><span class="line">      &quot;text&quot;: &quot;è®¢å•ç®¡ç†&quot;,</span><br><span class="line">      &quot;iconPath&quot;: &quot;pages/images/order.png&quot;,</span><br><span class="line">      &quot;selectedIconPath&quot;: &quot;pages/images/order_r.png&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;pagePath&quot;: &quot;pages/moneyManage/moneyManage&quot;,</span><br><span class="line">      &quot;text&quot;: &quot;è´¢åŠ¡ç®¡ç†&quot;,</span><br><span class="line">      &quot;iconPath&quot;: &quot;pages/images/money.png&quot;,</span><br><span class="line">      &quot;selectedIconPath&quot;: &quot;pages/images/money_r.png&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;pagePath&quot;: &quot;pages/myself/myself&quot;,</span><br><span class="line">      &quot;text&quot;: &quot;æˆ‘çš„å•†æˆ·&quot;,</span><br><span class="line">      &quot;iconPath&quot;: &quot;pages/images/people.png&quot;,</span><br><span class="line">      &quot;selectedIconPath&quot;: &quot;pages/images/people_r.png&quot;</span><br><span class="line">    &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="è®¢å•ç®¡ç†é¡µçš„èœå•æ "><a href="#è®¢å•ç®¡ç†é¡µçš„èœå•æ " class="headerlink" title="è®¢å•ç®¡ç†é¡µçš„èœå•æ "></a>è®¢å•ç®¡ç†é¡µçš„èœå•æ </h3><blockquote>
<p>ç‚¹å‡»èœå•æ åˆ‡æ¢Viewç®€å•ï¼Œç›´æ¥å°†å°†ç‚¹å‡»çš„èœå•çš„å€¼èµ‹ç»™Viewè®©å…¶åç§»å¯¹åº”çš„ç™¾åˆ†æ¯”å°±å¥½ã€‚</p>
<p>æ‰‹åŠ¿åˆ‡æ¢ï¼šé€šè¿‡è§¦æ‘¸çš„èµ·ç‚¹ä¸ç»ˆç‚¹è®¡ç®—å‡ºæ»‘åŠ¨æ–¹å‘ï¼Œç„¶ååç§»å¹¶ä¸”åˆ‡æ¢èœå•æ ã€‚</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">    catchtouchstart:function(e)&#123;</span><br><span class="line">    var that = this;</span><br><span class="line">    that.setData(&#123;</span><br><span class="line">      startPoint: [e.touches[0].clientX,e.touches[0].clientY]</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  catchtouchend:function(e)&#123;</span><br><span class="line">    var that = this;</span><br><span class="line">    var currentNum = parseInt(this.data.currentNavtab);</span><br><span class="line">    var endPoint = [e.changedTouches[0].clientX,e.changedTouches[0].clientY];</span><br><span class="line">    var startPoint = that.data.startPoint</span><br><span class="line">    if(endPoint[0] &lt;= startPoint[0]) &#123;</span><br><span class="line">      if(Math.abs(endPoint[0] - startPoint[0]) &gt;= Math.abs(endPoint[1] - startPoint[1]) &amp;&amp; currentNum&lt; this.data.navTab.length -1) &#123;</span><br><span class="line">         currentNum=currentNum + 1;  </span><br><span class="line">      &#125;</span><br><span class="line">    &#125;else &#123;</span><br><span class="line">      if(Math.abs(endPoint[0] - startPoint[0]) &gt;= Math.abs(endPoint[1] - startPoint[1]) &amp;&amp; currentNum &gt; 0) &#123;</span><br><span class="line">          currentNum -= 1;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    this.setData(&#123;</span><br><span class="line">      currentNavtab: currentNum</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">// ç‚¹å‡»èœå•æ åˆ‡æ¢View</span><br><span class="line">  switchTab: function(e)&#123;</span><br><span class="line">    this.setData(&#123;</span><br><span class="line">      currentNavtab: e.currentTarget.dataset.idx</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç»“æŸ"><a href="#ç»“æŸ" class="headerlink" title="ç»“æŸ"></a>ç»“æŸ</h3><blockquote>
<p>æ•´ä¸ªç¨‹åºè¿˜æ˜¯å¾ˆç®€å•çš„ï¼Œå°±æ˜¯åˆæ¬¡å†™è¿˜æ˜¯æœ‰äº›ä¸é€‚åº”ã€‚å°¤å…¶æ˜¯æŠŠdivæ”¹ä¸ºäº†Viewï¼Œä¸èƒ½ä½¿ç”¨windowå¯¹è±¡å’Œdocumentå¯¹è±¡ï¼Œå¾ˆä¸é€‚åº”ã€‚å†æ¬¡å¥‰ä¸Š<a target="_blank" rel="noopener" href="https://github.com/GavinCarter1991/wx-onePro">demo</a></p>
</blockquote>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E2%80%9C%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E2%80%9D/" rel="tag">â€œå¾®ä¿¡å°ç¨‹åºâ€</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="[layout]-é¡¹ç›®æ€»ç»“-ä½ç½®å®æ—¶å…±äº«"
  class="article article-type-[layout]"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2016/11/17/%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93-%E4%BD%8D%E7%BD%AE%E5%AE%9E%E6%97%B6%E5%85%B1%E4%BA%AB/"
    >é¡¹ç›®æ€»ç»“-ä½ç½®å®æ—¶å…±äº«</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2016/11/17/%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93-%E4%BD%8D%E7%BD%AE%E5%AE%9E%E6%97%B6%E5%85%B1%E4%BA%AB/" class="article-date">
  <time datetime="2016-11-16T16:13:34.000Z" itemprop="datePublished">2016-11-17</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/iOS/">iOS</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<p>ä»åŒ—äº¬å›æ¥åˆ°ä»Šå¤©å·²ç»æ•´æ•´ä¸‰ä¸ªæœˆäº†ï¼Œä¸‰ä¸ªæœˆæ²¡æœ‰æ›´æ–°ç®€ä¹¦äº†ã€‚å›æ¥æ‰¾äº†ä¸€å®¶æ–°çš„å…¬å¸ä¸Šç­ï¼Œæ­£å¥½ä»Šå¤©æ–°é¡¹ç›®æ‰“åŒ…æµ‹è¯•äº†ï¼Œæ‰¾äº†ç‚¹æ—¶é—´æ¥æ€»ç»“ä¸€ä¸‹æœ€è¿‘é¡¹ç›®ä¸­é‡åˆ°çš„ä¸€äº›é—®é¢˜ä¸å¿ƒå¾—ã€‚ä»Šå¤©ä¸»è¦åˆ†äº«<em>ä½ç½®å®æ—¶å…±äº«</em>ï¼Œå…¶å®ä¹‹å‰ä¹Ÿæœ‰æ—¶é—´ï¼Œå› ä¸ºåœ¨æ–°çš„å…¬å¸å¾ˆå°‘åŠ ç­ã€‚ä½†æ˜¯è‡ªå·±å¤ªæ‡’äº†ï¼Œæ‰€ä»¥â€¦â€¦ã€‚</p>
</blockquote>
<p><strong>è°ˆè°ˆæ–°å…¬å¸</strong>  </p>
<blockquote>
<p>è¿›å…¥å…¬å¸æ‰å‘ç°å…¬å¸æœ‰ä¸ªiOSå¤§ç¥å’Œæˆ‘æ˜¯ä¸€ä¸ªå¤§å­¦çš„ è¿˜æ˜¯ä¸€ä¸ªç³»çš„ è¿˜æ˜¯åŒä¸€çº§çš„ï¼Œè¿˜æœ‰ä¸¤ä¸ªAndroidä¸æˆ‘æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ï¼Œè¿™ä¸ªè¡Œä¸šçœŸçš„å°å•ŠğŸ˜„ã€‚å…¬å¸ä¸å¤§ï¼Œè€æ¿æ˜¯ä¸ªç¾ç±åäººï¼ˆè¿™åº”è¯¥æ˜¯æˆ‘ä»¬åŠ ç­å°‘çš„åŸå› å§ï¼‰ã€‚     </p>
</blockquote>
<p><strong>è°ˆè°ˆé¡¹ç›®</strong>    </p>
<blockquote>
<p>é¡¹ç›®å†…å®¹ä¿å¯†ï¼ˆç­¾äº†åè®®çš„ï¼‰â€¦â€¦ï¼Œè¿˜æ˜¯è°ˆæŠ€æœ¯å§ã€‚<br>1&gt;å³æ—¶é€šè®¯ï¼šæˆ‘ä»¬ç”¨çš„æ˜¯ç¯ä¿¡çš„ï¼Œå› ä¸ºè¿™ä¸æ˜¯ä¸»è¦çš„åŠŸèƒ½ï¼Œä½¿ç”¨å°±ç›´æ¥ç”¨çš„æ˜¯ç¯ä¿¡çš„UIï¼Œå°±æ˜¯å®˜æ–¹demoé‡Œé¢çš„EaseUIï¼Œå¯¼å…¥SDKå°±ä¸ç”¨è¯´äº†ï¼Œæˆ‘ä¸»è¦åˆ†äº«ä¸€ä¸‹æˆ‘ä»¬åœ¨é‡Œé¢æ·»åŠ çš„ä¸€ä¸ªæ–°çš„åŠŸèƒ½ï¼š<em>å®æ—¶ä½ç½®å…±äº«</em> æˆ‘ä»¬å°†è¿™ä¸ªåŠŸèƒ½æ·»åŠ åœ¨ç¾¤èŠé‡Œé¢çš„ã€‚ä¸»è¦é€»è¾‘ï¼šæ˜¯é€šè¿‡ç¯ä¿¡ç¾¤èŠçš„é€ä¼ æ¶ˆæ¯å®ç°çš„ç”¨çš„æ˜¯ç™¾åº¦åœ°å›¾ã€‚</p>
</blockquote>
<p><strong>é€šè¿‡ç™¾åº¦åœ°å›¾å®šä½ å°†è‡ªå·±çš„ä½ç½®çš„ç»çº¬åº¦æ”¾åœ¨é€ä¼ æ¶ˆæ¯çš„æ‰©å±•ä¿¡æ¯ä¸­ä¼ å‡ºå»</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">// æ›´æ–°å‘é€</span><br><span class="line">- (void)sendCmdMessageWithType:(NSString *)type &#123;</span><br><span class="line">    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^&#123;</span><br><span class="line">        EMCmdMessageBody *body = [[EMCmdMessageBody alloc] initWithAction:@&quot;shareLocation&quot;];</span><br><span class="line">        _currentUserId = [[NSUserDefaults standardUserDefaults] objectForKey:@&quot;eid&quot;];</span><br><span class="line">        NSDictionary *ext = @&#123;@&quot;latitude&quot;:@(_userStartLocation.location.coordinate.latitude),@&quot;longitude&quot;:@(_userStartLocation.location.coordinate.longitude),@&quot;type&quot;:type,_currentUserId:[[NSUserDefaults standardUserDefaults] objectForKey:@&quot;user_nickname&quot;]&#125;;</span><br><span class="line">        </span><br><span class="line">        EMMessage *message = [[EMMessage alloc] initWithConversationID:self.conversationID</span><br><span class="line">                                                                  from:_currentUserId</span><br><span class="line">                                                                    to:self.conversationID</span><br><span class="line">                                                                  body:body</span><br><span class="line">                                                                   ext:ext];</span><br><span class="line">        message.chatType = EMChatTypeGroupChat;</span><br><span class="line">        [[EMClient sharedClient].chatManager sendMessage:message progress:nil completion:^(EMMessage *message, EMError *error) &#123;</span><br><span class="line">            if (error) &#123;</span><br><span class="line">                [CTHUD showText:@&quot;ä½ç½®æ›´æ–°å¤±è´¥&quot;];</span><br><span class="line">                // å»è¯·æ±‚token</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;];</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>ç„¶ååœ¨è§£æé€å½»ä¿¡æ¯çš„è§£æä½ç½®ä¿¡æ¯</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">// æ”¶åˆ°è§£æ</span><br><span class="line">- (void)didReceiveCmdMessages:(NSArray *)aCmdMessages &#123;</span><br><span class="line">    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^&#123;</span><br><span class="line">        for (EMMessage *cmdMessage in aCmdMessages) &#123;</span><br><span class="line">            EMCmdMessageBody *body = (EMCmdMessageBody *)cmdMessage.body;</span><br><span class="line">            // åˆ¤æ–­æ˜¯å¦æ˜¯ä½ç½®å…±äº«æ¶ˆæ¯</span><br><span class="line">            if ([body.action isEqualToString:@&quot;shareLocation&quot;]) &#123;</span><br><span class="line">                CLLocationCoordinate2D coordinate;</span><br><span class="line">                coordinate.latitude = [[cmdMessage.ext objectForKey:@&quot;latitude&quot;] doubleValue];</span><br><span class="line">                coordinate.longitude = [[cmdMessage.ext objectForKey:@&quot;longitude&quot;] doubleValue];</span><br><span class="line">                NSString *nickName = [cmdMessage.ext objectForKey:cmdMessage.from];</span><br><span class="line">                if ([[cmdMessage.ext objectForKey:@&quot;type&quot;] isEqualToString:@&quot;update&quot;]) &#123;</span><br><span class="line">                    dispatch_async(dispatch_get_main_queue(), ^&#123;</span><br><span class="line">                        [self updateOtherAnnotationWithLocation:coordinate UserNickName:nickName];</span><br><span class="line">                    &#125;);</span><br><span class="line">                &#125;else if ([[cmdMessage.ext objectForKey:@&quot;type&quot;] isEqualToString:@&quot;remove&quot;]) &#123;</span><br><span class="line">                    dispatch_async(dispatch_get_main_queue(), ^&#123;</span><br><span class="line">                        [self removeOtherAnnotationWithUserNickName:nickName];</span><br><span class="line">                    &#125;);</span><br><span class="line">                &#125;else if ([[cmdMessage.ext objectForKey:@&quot;type&quot;] isEqualToString:@&quot;join&quot;]) &#123;</span><br><span class="line">                    dispatch_async(dispatch_get_main_queue(), ^&#123;</span><br><span class="line">                        [self addMyAnnotationWithLocation:coordinate UserNickName:nickName];</span><br><span class="line">                        [self sendCmdMessageWithType:@&quot;feedback&quot;];</span><br><span class="line">                    &#125;);</span><br><span class="line">                &#125;else if ([[cmdMessage.ext objectForKey:@&quot;type&quot;] isEqualToString:@&quot;feedback&quot;]) &#123;</span><br><span class="line">                    dispatch_async(dispatch_get_main_queue(), ^&#123;</span><br><span class="line">                        [self addMyAnnotationWithLocation:coordinate UserNickName:nickName];</span><br><span class="line">                    &#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>å°†æ‰€æœ‰æ”¶åˆ°çš„é€ä¼ æ¶ˆçš„ä½ç½®ä¿¡æ¯æ ‡è¯†åœ¨åœ°å›¾ä¸Š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// æ·»åŠ æ–°çš„ç”¨æˆ·æ ‡æ³¨</span><br><span class="line">- (void)addMyAnnotationWithLocation:(CLLocationCoordinate2D)coordinate UserNickName:(NSString *)nickName&#123;</span><br><span class="line">    BMKPointAnnotation *annotation = [[BMKPointAnnotation alloc]init];</span><br><span class="line">    annotation.coordinate = coordinate;</span><br><span class="line">    annotation.title = nickName;</span><br><span class="line">    [_mapView addAnnotation:annotation];</span><br><span class="line">    [_mapView selectAnnotation:annotation animated:YES];</span><br><span class="line">    [_otherUserAnnotation addObject:annotation];</span><br><span class="line">    [_otherUserNickName addObject:nickName];</span><br><span class="line">    [_mapView showAnnotations:_otherUserAnnotation animated:YES];</span><br><span class="line">    [_mapView setCenterCoordinate:coordinate animated:YES];</span><br><span class="line">    while (!_mapView.zoomOut) &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è¿˜éœ€è¦é€šè¿‡ä¼ é€’è€…çš„ä¼ é€’çš„ç±»å‹å®šè¯¥ä½ç½®æ˜¯æ–°åŠ å…¥ç”¨æˆ·è¿˜æ˜¯å·²ç»å­˜åœ¨çš„ç”¨æˆ·</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">if ([[cmdMessage.ext objectForKey:@&quot;type&quot;] isEqualToString:@&quot;update&quot;]) &#123;</span><br><span class="line">                    dispatch_async(dispatch_get_main_queue(), ^&#123;</span><br><span class="line">                        [self updateOtherAnnotationWithLocation:coordinate UserNickName:nickName];</span><br><span class="line">                    &#125;);</span><br><span class="line">                &#125;else if ([[cmdMessage.ext objectForKey:@&quot;type&quot;] isEqualToString:@&quot;remove&quot;]) &#123;</span><br><span class="line">                    dispatch_async(dispatch_get_main_queue(), ^&#123;</span><br><span class="line">                        [self removeOtherAnnotationWithUserNickName:nickName];</span><br><span class="line">                    &#125;);</span><br><span class="line">                &#125;else if ([[cmdMessage.ext objectForKey:@&quot;type&quot;] isEqualToString:@&quot;join&quot;]) &#123;</span><br><span class="line">                    dispatch_async(dispatch_get_main_queue(), ^&#123;</span><br><span class="line">                        [self addMyAnnotationWithLocation:coordinate UserNickName:nickName];</span><br><span class="line">                        [self sendCmdMessageWithType:@&quot;feedback&quot;];</span><br><span class="line">                    &#125;);</span><br><span class="line">                &#125;else if ([[cmdMessage.ext objectForKey:@&quot;type&quot;] isEqualToString:@&quot;feedback&quot;]) &#123;</span><br><span class="line">                    dispatch_async(dispatch_get_main_queue(), ^&#123;</span><br><span class="line">                        [self addMyAnnotationWithLocation:coordinate UserNickName:nickName];</span><br><span class="line">                    &#125;);</span><br><span class="line">                &#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ–°ç”¨æˆ·éœ€è¦æ·»åŠ å¤§å¤´é’ˆï¼Œå·²ç»å­˜åœ¨çš„ç”¨æˆ·åªéœ€è¦æ›´æ–°ä½ç½®</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// æ›´æ–°ç”¨æˆ·æ ‡æ³¨</span><br><span class="line">- (void)updateOtherAnnotationWithLocation:(CLLocationCoordinate2D)coordinate UserNickName:(NSString *)nickName&#123;</span><br><span class="line">    for (BMKPointAnnotation *annotation in _otherUserAnnotation) &#123;</span><br><span class="line">        if ([annotation.title isEqualToString:nickName]) &#123;</span><br><span class="line">            annotation.coordinate = coordinate;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>é€šè¿‡ç™¾åº¦åœ°å›¾è·å¾—è‡ªå·±ç§»åŠ¨çš„è·ç¦»</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">BMKMapPoint point1 = BMKMapPointForCoordinate(CLLocationCoordinate2DMake(_userStartLocation.location.coordinate.latitude,_userStartLocation.location.coordinate.latitude));</span><br><span class="line"></span><br><span class="line">BMKMapPoint point2 = BMKMapPointForCoordinate(CLLocationCoordinate2DMake(userLocation.location.coordinate.latitude,userLocation.location.coordinate.latitude));</span><br><span class="line"></span><br><span class="line"> CLLocationDistance distance = BMKMetersBetweenMapPoints(point1,point2);</span><br><span class="line"> </span><br></pre></td></tr></table></figure>
<blockquote>
<p>è‡ªå·±å®šä¹‰ä¸€ä¸ªç§»åŠ¨çš„ç²¾åº¦ï¼Œæˆ‘ä»¬å½“æ—¶å®šçš„ç§»åŠ¨è·ç¦»å¤§äº20ç±³ï¼ˆdistance&gt;20ï¼‰å°±å‘é€ä¸€æ¬¡ä½ç½®æ›´æ–°ã€‚<br>æœ€åå½“éœ€è¦ç¦»å¼€ä½ç½®å…±äº«æ˜¯ä¹Ÿéœ€è¦å†å‘é€ä¸€æ¬¡ä¿¡æ¯ï¼Œé€ä¼ è§£æå‡ºï¼Œç„¶åç§»é™¤æ ‡è¯†</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// åˆ é™¤ç”¨æˆ·æ ‡æ³¨</span><br><span class="line">- (void)removeOtherAnnotationWithUserNickName:(NSString *)nickName&#123;</span><br><span class="line">    for (BMKPointAnnotation *annotation in _otherUserAnnotation) &#123;</span><br><span class="line">        if ([annotation.title isEqualToString:nickName]) &#123;</span><br><span class="line">            [_otherUserAnnotation removeObject:annotation];</span><br><span class="line">            [_otherUserNickName removeObject:nickName];</span><br><span class="line">            [_mapView removeAnnotation:annotation];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ç»“æŸè¯­</strong></p>
<blockquote>
<p>å®æ—¶å…±äº« å…¶å®ä¸ç¾¤èŠå·®ä¸å¤šï¼Œå°±æ˜¯æˆ‘çš„ä½ç½®ç§»åŠ¨è·ç¦»è¾¾åˆ°äº†ç²¾åº¦è¦æ±‚ï¼Œæˆ‘å°±å‘é€ä¸€æ¬¡ç¾¤æ¶ˆæ¯ï¼Œè®©æ¯ä¸€ä¸ªå‚åŠ å…±äº«çš„äººéƒ½çŸ¥é“ï¼Œç„¶ååœ¨è‡ªå·±çš„åœ°å›¾ä¸Šæ›´æ–°ä¸€æ¬¡ã€‚ä»¥ä¸Šå°±æ˜¯æˆ‘ä»¬çš„ä½ç½®å®æ—¶å…±äº«çš„é€»è¾‘ä¸éƒ¨åˆ†ä»£ç ï¼Œæ¬¢è¿å„ä½çš„æŒ‡æ­£ï¼Œè°¢è°¢ã€‚</p>
</blockquote>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E2%80%9CiOS%E2%80%9D/" rel="tag">â€œiOSâ€</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E2%80%9C%E4%BD%8D%E7%BD%AE%E5%AE%9E%E6%97%B6%E5%85%B1%E4%BA%AB%E2%80%9D/" rel="tag">â€œä½ç½®å®æ—¶å…±äº«â€</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E2%80%9C%E7%99%BE%E5%BA%A6%E5%9C%B0%E5%9B%BE%E2%80%9D/" rel="tag">â€œç™¾åº¦åœ°å›¾â€</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="[layout]-iOS-webViewä¸ŠåŠ è½½HTMLè§†é¢‘ä¸æ˜¾ç¤ºç¼©ç•¥å›¾"
  class="article article-type-[layout]"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2016/08/08/iOS-webView%E4%B8%8A%E5%8A%A0%E8%BD%BDHTML%E8%A7%86%E9%A2%91%E4%B8%8D%E6%98%BE%E7%A4%BA%E7%BC%A9%E7%95%A5%E5%9B%BE/"
    >iOS-webViewä¸ŠåŠ è½½HTMLè§†é¢‘ä¸æ˜¾ç¤ºç¼©ç•¥å›¾</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2016/08/08/iOS-webView%E4%B8%8A%E5%8A%A0%E8%BD%BDHTML%E8%A7%86%E9%A2%91%E4%B8%8D%E6%98%BE%E7%A4%BA%E7%BC%A9%E7%95%A5%E5%9B%BE/" class="article-date">
  <time datetime="2016-08-07T17:06:48.000Z" itemprop="datePublished">2016-08-08</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/iOS/">iOS</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<p>æœ€è¿‘åœ¨é¡¹ç›®ä¸­é‡åˆ°äº†ä¸€ä¸ªæ¯”è¾ƒæ£˜æ‰‹çš„é—®é¢˜ï¼šåœ¨åŸç”Ÿçš„iOSçš„webViewä¸Šé¢åŠ è½½HTMLè§†é¢‘å‘ç°æ²¡æœ‰ç¼©ç•¥å›¾ï¼Œåœ¨ç½‘ä¸ŠæŸ¥äº†èµ„æ–™å‘ç°åœ¨HTMLé‡Œé¢æœ‰ä¸ªposterå±æ€§ï¼ˆæ·»åŠ ä¸€ä¸ªå›¾ç‰‡ï¼‰å¯ä»¥è®¾ç½®ç¼©ç•¥å›¾ï¼Œä½†æ˜¯æˆ‘ä»¬çš„åå°å‘Šè¯‰æˆ‘è§†é¢‘èµ„æºæœ¬æ¥å°±æ˜¯æ¥è‡ªç½‘ç»œçš„ï¼Œæ²¡æœ‰ç¼©ç•¥å›¾åªèƒ½è‡ªå·±è§£å†³äº†ã€‚äºæ˜¯å¼€å§‹æ˜¯Googleæ¨¡å¼ã€‚ç»ˆäºåŠŸå¤«ä¸è´Ÿæœ‰å¿ƒäººï¼Œåœ¨ä¸€ä¸ª<a target="_blank" rel="noopener" href="https://www.sitepoint.com/html5-video-fragments-captions-dynamic-thumbnails/">å›½å¤–çš„ç½‘ç«™</a>ä¸Šé¢å‘ç°äº†ä¸€ä¸ªæŠ˜ä¸­çš„è§£å†³åŠæ³•ã€‚</p>
</blockquote>
<h3 id="åŠæ³•"><a href="#åŠæ³•" class="headerlink" title="åŠæ³•"></a>åŠæ³•</h3><blockquote>
<p>å…¶å®ç»“å±€çš„åŠæ³•å¾ˆç®€å•ï¼Œä½†æ˜¯å¯¹æˆ‘è¿™ä¸ªä¸æ˜¯å¤ªæ‡‚å‰ç«¯çš„äººæ¥è¯´è¿˜æ˜¯â€¦â€¦ã€‚</p>
</blockquote>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/4207318919c8a9ed74e9a03b62d18e6c.webp?x-image-process=image/format,png" alt="æ–¹æ³•2016-08-08 00.29.36.png"></p>
<blockquote>
<p>è¿™ä¸ªæ–¹æ³•å°±æ˜¯åœ¨èµ„æºURLçš„åé¢ï¼ˆè§†é¢‘æ ¼å¼åé¢ï¼Œæœ‰çš„æ—¶å€™è§†é¢‘æ ¼å¼åé¢è¿˜æœ‰å…¶ä»–çš„å­—ç¬¦ä¸²ï¼Œæˆ‘æ˜¯ç›´æ¥æŠŠ.mp4åé¢çš„ç›´æ¥åˆ é™¤äº†ï¼Œä½†æ˜¯è§†é¢‘è¿˜æ˜¯å¯ä»¥æ’­æ”¾ï¼‰åŠ ä¸Š#t&#x3D;xxx,å…¶ä¸­çš„xxxä»£è¡¨çš„æ˜¯æ—¶é—´ï¼ˆç§’ï¼‰ã€‚å¤§æ¦‚çš„æ€è·¯æ˜¯è¿™æ ·çš„ï¼šå°±æ˜¯åœ¨åŠ è½½è§†é¢‘çš„æ—¶å€™è®¾ç½®è§†é¢‘çš„èµ·å§‹æ—¶é—´è®©è§†é¢‘è·³è½¬åˆ°ä½ è®¾ç½®çš„æ—¶é—´ä¸Šï¼Œä½†æ˜¯æ—¶é—´ä¸€å®šè¦è¶³å¤Ÿçš„å°ï¼Œå› ä¸ºå¤§äº†å‰é¢çš„è§†é¢‘å°±çœ‹ä¸äº†äº†ã€‚</p>
</blockquote>
<p><strong>è¿™ä¸ªæ–¹æ³•å…¶å®è¿˜æœ‰ä¸€ä¸ªç”¨æ³•ï¼š</strong></p>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/406035d5b21ac7d6e4ba0edbf0414389.webp?x-image-process=image/format,png" alt="ç”¨æ³• 2016-08-08 00.50.52.png"></p>
<blockquote>
<p>è§†é¢‘ä¼šåœ¨0ï¼š06å¼€å§‹æ’­æ”¾ç›´åˆ°0ï¼š20åœæ­¢æ’­æ”¾ã€‚ä½†æ˜¯è¿™ä¸æ˜¯è‡ªåŠ¨æ’­æ”¾ï¼Œè‡ªåŠ¨æ’­æ”¾éœ€è¦è®¾ç½®ï¼šautoplay&#x3D;â€autoplayâ€ã€‚</p>
</blockquote>
<h3 id="å£°æ˜"><a href="#å£°æ˜" class="headerlink" title="å£°æ˜"></a>å£°æ˜</h3><blockquote>
<p>NOTEï¼šå¯¹äºwebç«¯æˆ‘æ˜¯ä¸€ä¸ªèœé¸Ÿï¼Œä¹Ÿä¸çŸ¥é“ç”¨è¿™ä¸ªæ–¹æ³•è§£å†³è¿™ä¸ªé—®é¢˜æ˜¯ä¸æ˜¯å¤ªè ¢äº†ï¼Œå¸Œæœ›è°æœ‰å…¶ä»–æ›´å¥½çš„è§£å†³åŠæ³•å¯ä»¥ä¸åèµæ•™ï¼Œè°¢è°¢ã€‚</p>
</blockquote>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E2%80%9CiOS%E2%80%9D/" rel="tag">â€œiOSâ€</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E2%80%9CwebView%E2%80%9D/" rel="tag">â€œwebViewâ€</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E2%80%9C%E8%A7%86%E9%A2%91%E4%B8%8D%E6%98%BE%E7%A4%BA%E7%BC%A9%E7%95%A5%E5%9B%BE%E2%80%9D/" rel="tag">â€œè§†é¢‘ä¸æ˜¾ç¤ºç¼©ç•¥å›¾â€</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="[layout]-å›¾ç‰‡ä¸Šä¼ é¢„è§ˆ"
  class="article article-type-[layout]"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2016/08/01/%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0%E9%A2%84%E8%A7%88/"
    >å›¾ç‰‡ä¸Šä¼ é¢„è§ˆ</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2016/08/01/%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0%E9%A2%84%E8%A7%88/" class="article-date">
  <time datetime="2016-07-31T17:06:42.000Z" itemprop="datePublished">2016-08-01</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/web/">web</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<p>æœ¬å‘¨å¸®ä¸€å“¥ä»¬å†™äº†ä¸€ä¸ªé¡µé¢é‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œç‰¹æ­¤è®°å½•ä¸€ä¸‹ã€‚ä¸»è¦é‡åˆ°çš„é—®é¢˜æ˜¯å›¾ç‰‡ä¸Šä¼ é¢„è§ˆï¼ˆå¤šä¸ªä¸Šä¼ æ§ä»¶ï¼‰ã€å¤šä¸ªé¢œè‰²é€‰æ‹©ï¼Œé‡åˆ°äº†å†²çªã€‚</p>
</blockquote>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/236f8ed15fd552d48cf2c3287edd9c53.webp?x-image-process=image/format,png" alt="æ¥ä¸ªæ•ˆæœä¸€æ’‡ 2016-08-01 00.13.22.png"></p>
<p><strong>è¿™æ˜¯ä»£ç ä¸Šä¼ çš„HTMLéƒ¨åˆ†ä»£ç </strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;home11&quot; class=&quot;tab-pane in active lowerContent &quot;&gt;</span><br><span class="line">                  &lt;div class=&quot;tool floatLeft&quot;&gt;</span><br><span class="line">                    &lt;span class=&quot;spanStylef floatLeft&quot;&gt;åç§°&lt;/span&gt;</span><br><span class="line">                    &lt;input type=&quot;text&quot; name=&quot;appName&quot;&gt;</span><br><span class="line">                  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">                  &lt;div class=&quot;upImage floatLeft&quot;&gt;</span><br><span class="line">                    &lt;div class=&quot;tool floatLeft&quot;&gt;</span><br><span class="line">                      &lt;span class=&quot;spanStylef floatLeft&quot;&gt;é»˜è®¤å›¾æ ‡&lt;/span&gt;</span><br><span class="line">                      &lt;a href=&quot;javascript:;&quot; class=&quot;file&quot; onchange=&quot;javascript:setImagePreview(2);&quot;&gt;ä¸Šä¼ å›¾ç‰‡</span><br><span class="line">                        &lt;input type=&quot;file&quot; name=&quot;imagereview2&quot; class =&quot;inputImages&quot;&gt;</span><br><span class="line">                      &lt;/a&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">                    &lt;div class=&quot;tool floatLeft&quot;&gt;</span><br><span class="line">                      &lt;span class=&quot;spanStylef floatLeft&quot;&gt;&amp;nbsp&lt;/span&gt;</span><br><span class="line">                      &lt;img class=&quot;imagereview2&quot; width=&quot;100&quot; height=&quot;100&quot; /&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">                  &lt;div class=&quot;upImage floatLeft&quot;&gt;</span><br><span class="line">                    &lt;div class=&quot;tool floatLeft&quot;&gt;</span><br><span class="line">                      &lt;span class=&quot;spanStylef floatLeft&quot;&gt;è§¦åŠå›¾æ ‡&lt;/span&gt;</span><br><span class="line">                      &lt;a href=&quot;javascript:;&quot; class=&quot;file&quot; onchange=&quot;javascript:setImagePreview(3);&quot;&gt;ä¸Šä¼ å›¾ç‰‡</span><br><span class="line">                        &lt;input type=&quot;file&quot; name=&quot;imagereview3&quot; class =&quot;inputImages&quot;&gt;</span><br><span class="line">                      &lt;/a&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">                    &lt;div class=&quot;tool floatLeft&quot;&gt;</span><br><span class="line">                      &lt;span class=&quot;spanStylef floatLeft&quot;&gt;&amp;nbsp&lt;/span&gt;</span><br><span class="line">                      &lt;img class=&quot;imagereview3&quot; width=&quot;100&quot; height=&quot;100&quot; /&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                  &lt;/div&gt;</span><br><span class="line">                &lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p><strong>ä¿®æ”¹ä¸Šä¼ æŒ‰é’®çš„éƒ¨åˆ†cssä»£ç </strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">.file &#123;</span><br><span class="line">    position: relative;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    background: #D0EEFF;</span><br><span class="line">    border: 1px solid #99D3F5;</span><br><span class="line">    border-radius: 4px;</span><br><span class="line">    padding: 4px 12px;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">    color: #1E88C7;</span><br><span class="line">    text-decoration: none;</span><br><span class="line">    text-indent: 0;</span><br><span class="line">    line-height: 20px;</span><br><span class="line">&#125;</span><br><span class="line">.file input &#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">    font-size: 100px;</span><br><span class="line">    right: 0;</span><br><span class="line">    top: 0;</span><br><span class="line">    opacity: 0;</span><br><span class="line">&#125;</span><br><span class="line">.file:hover &#123;</span><br><span class="line">    text-decoration: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>è¿™æ˜¯JSéƒ¨åˆ†çš„ä»£ç </strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">function setImagePreview(avalue) &#123;</span><br><span class="line">               //input</span><br><span class="line">               var docObjs = document.getElementsByClassName(&quot;inputImages&quot;);</span><br><span class="line">               var docObj = docObjs[avalue];</span><br><span class="line">               if (docObj.files &amp;&amp; docObj.files[0]) &#123;</span><br><span class="line">                   var imgObjPreviews = document.getElementsByClassName(docObj.name);</span><br><span class="line">                   var imgObjPreview = imgObjPreviews[0];</span><br><span class="line">               if (avalue == 0) &#123;</span><br><span class="line">                   imgObjPreview.style.display = &#x27;block&#x27;;</span><br><span class="line">                   imgObjPreview.style.width = &#x27;200px&#x27;;</span><br><span class="line">                   imgObjPreview.style.height = &#x27;350px&#x27;;</span><br><span class="line">               &#125;else &#123;</span><br><span class="line">                   //ç«ç‹ä¸‹ï¼Œç›´æ¥è®¾imgå±æ€§</span><br><span class="line">                   imgObjPreview.style.display = &#x27;block&#x27;;</span><br><span class="line">                   imgObjPreview.style.width = &#x27;100px&#x27;;</span><br><span class="line">                   imgObjPreview.style.height = &#x27;100px&#x27;;</span><br><span class="line">               &#125;</span><br><span class="line">                  imgObjPreview.src = window.URL.createObjectURL(docObj.files[0]);</span><br><span class="line">               &#125; else &#123;</span><br><span class="line">                   //IEä¸‹ï¼Œä½¿ç”¨æ»¤é•œ</span><br><span class="line">                   // docObj.select();</span><br><span class="line">                   // var imgSrc = document.selection.createRange().text;</span><br><span class="line">                   // var localImagId = document.getElementById(&quot;localImag&quot;);</span><br><span class="line">                   // //å¿…é¡»è®¾ç½®åˆå§‹å¤§å°</span><br><span class="line">                   // localImagId.style.width = &quot;100px&quot;;</span><br><span class="line">                   // localImagId.style.height = &quot;100px&quot;;</span><br><span class="line">                   // //å›¾ç‰‡å¼‚å¸¸çš„æ•æ‰ï¼Œé˜²æ­¢ç”¨æˆ·ä¿®æ”¹åç¼€æ¥ä¼ªé€ å›¾ç‰‡</span><br><span class="line">                   // try &#123;</span><br><span class="line">                   //     localImagId.style.filter = &quot;progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale)&quot;;</span><br><span class="line">                   //     localImagId.filters.item(&quot;DXImageTransform.Microsoft.AlphaImageLoader&quot;).src = imgSrc;</span><br><span class="line">                   // &#125; catch(e) &#123;</span><br><span class="line">                   //     alert(&quot;æ‚¨ä¸Šä¼ çš„å›¾ç‰‡æ ¼å¼ä¸æ­£ç¡®ï¼Œè¯·é‡æ–°é€‰æ‹©!&quot;);</span><br><span class="line">                   //     return false;</span><br><span class="line">                   // &#125;</span><br><span class="line">                   // imgObjPreview.style.display = &#x27;none&#x27;;</span><br><span class="line">                   // document.selection.empty();</span><br><span class="line">               &#125;</span><br><span class="line">               return true;</span><br><span class="line">           &#125;</span><br><span class="line">           </span><br></pre></td></tr></table></figure>

<h2 id="é—®é¢˜ä¸è§£å†³ï¼š"><a href="#é—®é¢˜ä¸è§£å†³ï¼š" class="headerlink" title="é—®é¢˜ä¸è§£å†³ï¼š"></a>é—®é¢˜ä¸è§£å†³ï¼š</h2><h3 id="é—®é¢˜ä¸€ï¼šæ˜¯ä¸Šä¼ æŒ‰é’®é»˜è®¤çš„æ–‡ä»¶ä¸Šä¼ æ˜¯è¿™æ ·çš„"><a href="#é—®é¢˜ä¸€ï¼šæ˜¯ä¸Šä¼ æŒ‰é’®é»˜è®¤çš„æ–‡ä»¶ä¸Šä¼ æ˜¯è¿™æ ·çš„" class="headerlink" title="é—®é¢˜ä¸€ï¼šæ˜¯ä¸Šä¼ æŒ‰é’®é»˜è®¤çš„æ–‡ä»¶ä¸Šä¼ æ˜¯è¿™æ ·çš„"></a>é—®é¢˜ä¸€ï¼šæ˜¯ä¸Šä¼ æŒ‰é’®é»˜è®¤çš„æ–‡ä»¶ä¸Šä¼ æ˜¯è¿™æ ·çš„</h3><p><img src="https://i-blog.csdnimg.cn/blog_migrate/247191efee00edfe40ac992ff86a4b93.webp?x-image-process=image/format,png" alt="é»˜è®¤ 2016-08-01 00.26.51.png"></p>
<h3 id="ä½†æ˜¯æˆ‘éœ€è¦çš„æ˜¯è¿™æ ·çš„ï¼š"><a href="#ä½†æ˜¯æˆ‘éœ€è¦çš„æ˜¯è¿™æ ·çš„ï¼š" class="headerlink" title="ä½†æ˜¯æˆ‘éœ€è¦çš„æ˜¯è¿™æ ·çš„ï¼š"></a>ä½†æ˜¯æˆ‘éœ€è¦çš„æ˜¯è¿™æ ·çš„ï¼š</h3><p><img src="https://i-blog.csdnimg.cn/blog_migrate/b519bb3cae0f98c75720b46596facebb.webp?x-image-process=image/format,png" alt="ç›®æ ‡ 2016-08-01 00.28.07.png"></p>
<blockquote>
<p>è§£å†³æ–¹æ¡ˆï¼šå°±æ˜¯å°†fileAPIæ”¾åœ¨ä½ éœ€è¦çš„æ§ä»¶ä¸Šé¢ï¼Œç„¶åå°†fileAPIè®¾ç½®ä¸ºé€æ˜ï¼Œç„¶åç‚¹å‡»ä½ éœ€è¦çš„æ§ä»¶å…¶å®å°±æ˜¯ç‚¹å‡»äº†fileAPIã€‚è¿˜æœ‰ä¸€ä¸ªæ–¹æ¡ˆå°±æ˜¯ç”¨js:å°†ä½ çš„æ§ä»¶çš„ç‚¹å‡»äº‹ä»¶é‡Œé¢çš„è¿”å›ä¸ºfileAPIçš„äº‹ä»¶ã€‚è¿™æ ·ç‚¹å‡»ä½ çš„æ§ä»¶å°±å®Œæˆäº†fileAPIäº‹ä»¶äº†ï¼Œï¼ˆæˆ‘æƒ³çš„ï¼Œæ²¡æœ‰å»å®ç°å–”ï¼‰</p>
</blockquote>
<h3 id="é—®é¢˜äºŒï¼šç‚¹å‡»äº‹ä»¶å†²çª"><a href="#é—®é¢˜äºŒï¼šç‚¹å‡»äº‹ä»¶å†²çª" class="headerlink" title="é—®é¢˜äºŒï¼šç‚¹å‡»äº‹ä»¶å†²çª"></a>é—®é¢˜äºŒï¼šç‚¹å‡»äº‹ä»¶å†²çª</h3><blockquote>
<p>ä¸€å¼€å§‹æˆ‘æ˜¯é€šè¿‡idé€‰æ‹©å™¨æ¥æ ‡è®°imageä¸inputçš„,åæ¥å‘ç°å¤šä¸ªä¸Šä¼ æŒ‰é’®å°±éœ€è¦å¤šä¸ªjsåˆ¤å®šï¼Œä¼šæœ‰å¾ˆå¤šçš„é‡å¤ä»£ç ã€‚äºæ˜¯åæ¥æˆ‘æ”¹ä¸ºäº†ç”¨ç±»é€‰æ‹©å™¨ä½†æ˜¯ç±»åä¸€æ ·æ— æ³•å°†imageä¸inputå¯¹åº”ã€‚äºæ˜¯æˆ‘å°†inputçš„nameä¸ä¸imageçš„ç±»åå†™æˆä¸€æ ·ï¼Œé€šè¿‡inputçš„nameæ‰¾åˆ°å¯¹åº”çš„imageã€‚</p>
</blockquote>
<h5 id="NOTEï¼šæˆ‘å‰ç«¯å¼€å‘å¾ˆä¹…æ²¡æœ‰å¼„äº†ï¼Œå¾ˆå¤šå¿˜è®°äº†ï¼Œå¦‚æœ‰é”™è¯¯ã€‚è¯·äº²ä»¬ä¸€å®šè¦æŒ‡å‡ºå•Šï¼"><a href="#NOTEï¼šæˆ‘å‰ç«¯å¼€å‘å¾ˆä¹…æ²¡æœ‰å¼„äº†ï¼Œå¾ˆå¤šå¿˜è®°äº†ï¼Œå¦‚æœ‰é”™è¯¯ã€‚è¯·äº²ä»¬ä¸€å®šè¦æŒ‡å‡ºå•Šï¼" class="headerlink" title="NOTEï¼šæˆ‘å‰ç«¯å¼€å‘å¾ˆä¹…æ²¡æœ‰å¼„äº†ï¼Œå¾ˆå¤šå¿˜è®°äº†ï¼Œå¦‚æœ‰é”™è¯¯ã€‚è¯·äº²ä»¬ä¸€å®šè¦æŒ‡å‡ºå•Šï¼"></a>NOTEï¼šæˆ‘å‰ç«¯å¼€å‘å¾ˆä¹…æ²¡æœ‰å¼„äº†ï¼Œå¾ˆå¤šå¿˜è®°äº†ï¼Œå¦‚æœ‰é”™è¯¯ã€‚è¯·äº²ä»¬ä¸€å®šè¦æŒ‡å‡ºå•Šï¼</h5> 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E2%80%9Cweb%E2%80%9D/" rel="tag">â€œwebâ€</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E2%80%9C%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0%E2%80%9D/" rel="tag">â€œå›¾ç‰‡ä¸Šä¼ â€</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E2%80%9C%E9%A2%84%E8%A7%88%E2%80%9D/" rel="tag">â€œé¢„è§ˆâ€</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="[layout]-iOS-ä¸‹åŠ è½½æœ¬åœ°HTML-js-css-image-ç­‰è·¯å¾„é—®é¢˜"
  class="article article-type-[layout]"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2016/07/25/iOS-%E4%B8%8B%E5%8A%A0%E8%BD%BD%E6%9C%AC%E5%9C%B0HTML-js-css-image-%E7%AD%89%E8%B7%AF%E5%BE%84%E9%97%AE%E9%A2%98/"
    >iOS ä¸‹åŠ è½½æœ¬åœ°HTML/js/css/image ç­‰è·¯å¾„é—®é¢˜</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2016/07/25/iOS-%E4%B8%8B%E5%8A%A0%E8%BD%BD%E6%9C%AC%E5%9C%B0HTML-js-css-image-%E7%AD%89%E8%B7%AF%E5%BE%84%E9%97%AE%E9%A2%98/" class="article-date">
  <time datetime="2016-07-25T03:29:55.000Z" itemprop="datePublished">2016-07-25</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/iOS/">iOS</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<p>ä»Šå¤©åœ¨é¡¹ç›®ä¸­é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼šæˆ‘å°†H5çš„æ–‡ä»¶æ‹–å…¥é¡¹ç›®ä¸­ï¼Œåœ¨webViewä¸Šæ·»åŠ H5,è¿è¡Œæ—¶å‘ç°H5çš„æ ·å¼ä¸å›¾ç‰‡ç­‰éƒ½æ²¡æœ‰äº†ã€‚ç»è¿‡å¤šç§æµ‹è¯•åå‘ç°ï¼šæ˜¯è·¯å¾„çš„é—®é¢˜ã€‚</p>
<p>åœ¨iosé¡¹ç›®ä¸‹æ·»åŠ æœ¬åœ°HTML&#x2F;js&#x2F;css&#x2F;image  å½“æ‹–å…¥é¡¹ç›®æ—¶æœ‰ä¸¤ç§é€‰æ‹©ï¼š</p>
<p>ä¸€ä¸ªæ˜¯  Create groups for any added foldersï¼ˆåˆ›å»ºè™šæ‹Ÿç»“æ„-åŒ…ç»“æ„ï¼‰</p>
<p>ä¸€ä¸ªæ˜¯ Create folder references for any added folders åˆ›å»ºå®ä½“ç»“æ„ï¼‰</p>
</blockquote>
<blockquote>
<p>å¦‚æœé€‰æ‹©å‰è€…ï¼Œå½“APPç¼–è¯‘è¿‡åå¼•å…¥çš„æ–‡ä»¶ä¼šè¢«æ”¾åœ¨åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹é¢ä¼šå¿½ç•¥ä½ åŸæœ¬çš„æ–‡ä»¶å¤¹ã€‚å› æ­¤åœ¨HTMLæ–‡ä»¶ä¸­çš„è·¯å¾„å°±ä¼šå‡ºç°é—®é¢˜ã€‚å¦‚æœä½ é€‰æ‹©äº†å‰è€…é‚£ä¹ˆHTMLæ–‡ä»¶ä¸­å¼•å…¥CSSï¼Œjsï¼Œå›¾ç‰‡ç­‰å°±ä¸éœ€è¦æ·»åŠ å‰ç¼€è·¯å¾„äº†ï¼Œç›´æ¥å†™æ–‡ä»¶åå°±è¡Œã€‚</p>
</blockquote>
<p><strong>å¼•å…¥æ–‡ä»¶æ–¹å¼ï¼š</strong></p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">NSString * htmlPath = [[NSBundle mainBundle] pathForResource:@&quot;index&quot; ofType:@&quot;html&quot;];</span><br><span class="line">NSString * htmlString = [NSString stringWithContentsOfFile:htmlPath encoding:NSUTF8StringEncoding error:nil];</span><br><span class="line"> NSURL *baseURL = [NSURL fileURLWithPath:[[NSBundle mainBundle] resourcePath]];</span><br><span class="line">[self.webView loadHTMLString:htmlString baseURL:baseURL];</span><br></pre></td></tr></table></figure>
<blockquote>
<p> å¦‚æœé€‰æ‹©åè€…ï¼Œå½“APPç¼–è¯‘è¿‡åå¼•å…¥çš„æ–‡ä»¶ä¼šæŒ‰ç…§åŸæœ¬çš„ç›®å½•ç»“æ„å­˜æ”¾ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦æ·»åŠ ç›¸å¯¹è·¯å¾„ã€‚</p>
</blockquote>
<p> <strong>å¼•å…¥æ–‡ä»¶æ–¹å¼ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[self.webView loadRequest:[NSURLRequest requestWithURL:[NSURL URLWithString:@&quot;huaiha/index.html&quot; </span><br><span class="line"></span><br><span class="line">relativeToURL:[[NSBundle mainBundle] bundleURL]]]];</span><br><span class="line"></span><br></pre></td></tr></table></figure> 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E2%80%9CiOS%E2%80%9D/" rel="tag">â€œiOSâ€</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E2%80%9C%E6%9C%AC%E5%9C%B0%E2%80%9D/" rel="tag">â€œæœ¬åœ°â€</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E2%80%9C%E8%B7%AF%E5%BE%84%E9%97%AE%E9%A2%98%E2%80%9D/" rel="tag">â€œè·¯å¾„é—®é¢˜â€</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="[layout]-iOS-widget-Today-æ‰©å±•"
  class="article article-type-[layout]"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2016/07/25/iOS-widget-Today-%E6%89%A9%E5%B1%95/"
    >iOS-widget-Today æ‰©å±•</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2016/07/25/iOS-widget-Today-%E6%89%A9%E5%B1%95/" class="article-date">
  <time datetime="2016-07-25T03:23:58.000Z" itemprop="datePublished">2016-07-25</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/iOS/">iOS</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<p>ä»Šå¤©è¦åˆ†äº«çš„æ˜¯é€šçŸ¥ä¸­å¿ƒæ‰©å±•ä¸­çš„-<a target="_blank" rel="noopener" href="https://developer.apple.com/library/ios/documentation/General/Conceptual/ExtensibilityPG/">Today</a>æ‰©å±•ï¼ˆios8æ¨å‡ºï¼‰ï¼Œiosç›®å‰å¯ä»¥ä½¿ç”¨çš„æ‰©å±•æœ‰ï¼štodayæ‰©å±•ï¼ˆwidget-å³é€šçŸ¥æ çš„ä»Šå¤©ä¸€æ ï¼‰ã€é”®ç›˜è‡ªå®šä¹‰ã€æ–‡ä»¶ç®¡ç†ã€ç…§ç‰‡ç¼–è¾‘æ‰©å±•ã€é€šçŸ¥æ‰©å±•ï¼ˆæ¨é€ï¼‰ã€åˆ†äº«æ‰©å±•ç­‰ã€‚æ‰©å±•ä¸æ‹¥æœ‰è¿™ä¸ªæ‰©å±•ä¸»åº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ç‹¬ç«‹çš„ã€‚ä»–ä»¬æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„è¿›ç¨‹ã€‚</p>
</blockquote>
<h3 id="ä¸€ã€ç›®æ ‡ï¼š"><a href="#ä¸€ã€ç›®æ ‡ï¼š" class="headerlink" title="ä¸€ã€ç›®æ ‡ï¼š"></a>ä¸€ã€ç›®æ ‡ï¼š</h3><blockquote>
<p>æˆ‘é¡¹ç›®æ˜¯å¸Œæœ›åœ¨widgetä¸­æ·»åŠ ä¸€ä¸ªH5çš„é¡µé¢æ–¹ä¾¿ä»¥åçš„è‡ªå®šä¹‰ã€‚ç‚¹å‡»å¯¹åº”æŒ‰é’®å»åˆ°ç›¸åº”ç•Œé¢ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“è¿™æ ·ç®—ä¸ç®—æ»¥ç”¨widgetï¼Œå› ä¸ºä¹‹å‰çœ‹è§è¿‡æœ‰äººçš„åº”ç”¨è¢«è‹¹æœæ‹’ç»å°±æ˜¯å› ä¸ºæ»¥ç”¨widgetå¯¼è‡´çš„ã€‚</p>
</blockquote>
<h3 id="äºŒã€å®ç°ï¼š"><a href="#äºŒã€å®ç°ï¼š" class="headerlink" title="äºŒã€å®ç°ï¼š"></a>äºŒã€å®ç°ï¼š</h3><blockquote>
<p>1.å› ä¸ºwidgetæ˜¯ä¸€ä¸ªå•ç‹¬çš„è¿›ç¨‹æ‰€ä»¥éœ€è¦åˆ›å»ºä¸€ä¸ªtargetï¼š</p>
</blockquote>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/0b583421a35083363bf56d91148192dd.webp?x-image-process=image/format,png" alt="é¦–å…ˆ 2016-07-24 23.01.34.png"></p>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/217a9594befa8d064b3f479abf1d92db.webp?x-image-process=image/format,png" alt="ç„¶å 2016-07-24 23.01.13.png"></p>
<blockquote>
<p>2.ä»£ç </p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">- (void)viewDidLoad &#123;</span><br><span class="line">    [super viewDidLoad];</span><br><span class="line">    // è°ƒæ•´Widgetçš„é«˜åº¦</span><br><span class="line">    self.preferredContentSize = CGSizeMake(0, 200);</span><br><span class="line">    </span><br><span class="line">    // 1ã€åˆ›å»ºUIWebViewï¼š</span><br><span class="line">    UIWebView *mWebView = [[UIWebView alloc]initWithFrame:CGRectMake(0, 0, self.view.frame.size.width, 200)];</span><br><span class="line">    </span><br><span class="line">    // 2ã€è®¾ç½®å±æ€§ï¼š</span><br><span class="line">    mWebView.scalesPageToFit = YES;// è‡ªåŠ¨å¯¹é¡µé¢è¿›è¡Œç¼©æ”¾ä»¥é€‚åº”å±å¹•</span><br><span class="line">    // æ£€æµ‹æ‰€æœ‰æ•°æ®ç±»å‹  è®¾å®šç”µè¯å·ç ã€ç½‘å€ã€ç”µå­é‚®ä»¶å’Œæ—¥æœŸç­‰æ–‡å­—å˜ä¸ºé“¾æ¥æ–‡å­—</span><br><span class="line">    </span><br><span class="line">    [mWebView setDataDetectorTypes:UIDataDetectorTypeAll];</span><br><span class="line">    mWebView.delegate = self;</span><br><span class="line">    </span><br><span class="line">    // æ‰“å¼€URL</span><br><span class="line">    NSURLRequest *request =[NSURLRequest requestWithURL:[NSURL URLWithString:@&quot;http://www.baidu.com&quot;]];</span><br><span class="line">    [mWebView loadRequest:request];</span><br><span class="line">    [self.view addSubview:mWebView];</span><br><span class="line">    </span><br><span class="line">    [self makeButtonWithTitle:@&quot;è¿”å›&quot; frame:CGRectMake(0, 0, 80, 64) button:_backBtn];</span><br><span class="line">    [self makeButtonWithTitle:@&quot;å‰è¿›&quot; frame:CGRectMake(self.view.frame.size.width - 80, 0, 80, 64) button:_forWardBtn];</span><br><span class="line">    [self makeButtonWithTitle:@&quot;åˆ·æ–°&quot; frame:CGRectMake(100, 0, 80, 64) button:_refreshBtn];</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å–æ¶ˆwidgeté»˜è®¤çš„insetï¼Œè®©åº”ç”¨é å·¦</span><br><span class="line">- (UIEdgeInsets)widgetMarginInsetsForProposedMarginInsets:(UIEdgeInsets)defaultMarginInsets &#123;</span><br><span class="line">    return UIEdgeInsetsZero;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)makeButtonWithTitle:(NSString *)title frame:(CGRect)frame button:(UIButton *)btn &#123;</span><br><span class="line">    btn = [UIButton buttonWithType:UIButtonTypeCustom];</span><br><span class="line">    [btn setTitle:title forState:UIControlStateNormal];</span><br><span class="line">    [btn setTitleColor:[UIColor redColor] forState:UIControlStateNormal];</span><br><span class="line">    [btn addTarget:self action:@selector(skip:) forControlEvents:UIControlEventTouchUpInside];</span><br><span class="line">    [btn setFrame:frame];</span><br><span class="line">    </span><br><span class="line">    if ([title isEqualToString:@&quot;è¿”å›&quot;]) &#123;</span><br><span class="line">        btn.tag = 101;</span><br><span class="line">    &#125; else if([title isEqualToString:@&quot;å‰è¿›&quot;]) &#123;</span><br><span class="line">        btn.tag = 102;</span><br><span class="line">    &#125;else &#123;</span><br><span class="line">        btn.tag = 103;</span><br><span class="line">    &#125;</span><br><span class="line">    [self.view addSubview:btn];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)skip:(UIButton *)button</span><br><span class="line">&#123;</span><br><span class="line">    if (button.tag == 101) &#123;</span><br><span class="line">        [self.extensionContext openURL:[NSURL URLWithString:@&quot;iOSWidgetApp://action=GotoHomePage&quot;] completionHandler:^(BOOL success) &#123;</span><br><span class="line">            NSLog(@&quot;101   open url result:%d&quot;,success);</span><br><span class="line">        &#125;];</span><br><span class="line">    &#125;</span><br><span class="line">    else if(button.tag == 102) &#123;</span><br><span class="line">        [self.extensionContext openURL:[NSURL URLWithString:@&quot;iOSWidgetApp://action=GotoOtherPage&quot;] completionHandler:^(BOOL success) &#123;</span><br><span class="line">            NSLog(@&quot;102    open url result:%d&quot;,success);</span><br><span class="line">        &#125;];</span><br><span class="line">    &#125;else &#123;</span><br><span class="line">        [self.extensionContext openURL:[NSURL URLWithString:@&quot;iOSWidgetApp://action=GotoOtherPages&quot;] completionHandler:^(BOOL success) &#123;</span><br><span class="line">            NSLog(@&quot;102    open url result:%d&quot;,success);</span><br><span class="line">        &#125;];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¿è¡Œä¸ç»“æœå±•ç¤ºï¼š</p>
</blockquote>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/d2078c3e20a8126af877649cb755bce1.webp?x-image-process=image/format,png" alt="è¿è¡Œ 2016-07-24 23.02.28.png"></p>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/d8e9254bab90d77597bda99215fded4b.webp?x-image-process=image/format,png" alt="æ•ˆæœå›¾ 2016-07-25 09.55.44.png"></p>
<h3 id="æ‰©å±•ä¸ä¸»ç¨‹åºçš„äº¤äº’-æ•°æ®å…±äº«"><a href="#æ‰©å±•ä¸ä¸»ç¨‹åºçš„äº¤äº’-æ•°æ®å…±äº«" class="headerlink" title="æ‰©å±•ä¸ä¸»ç¨‹åºçš„äº¤äº’-æ•°æ®å…±äº«"></a>æ‰©å±•ä¸ä¸»ç¨‹åºçš„äº¤äº’-æ•°æ®å…±äº«</h3><p><strong>è¿™å°±è¦æ¶‰åŠæ‰©å±•ä¸åº”ç”¨ä¹‹é—´çš„æ•°æ®å…±äº«äº†-App Groups.</strong></p>
<blockquote>
<p>é¦–å…ˆåœ¨ä¸»åº”ç”¨çš„target &gt; Capabilitiesä¸‹ æ‰“å¼€App Groups ç‚¹å‡»+ åœ¨group.åé¢è¾“å…¥æ ‡è¯†ç¬¦ï¼Œ</p>
</blockquote>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/62f1aa6e7f4adbc919d563ca0a21bda6.webp?x-image-process=image/format,png" alt="Snip20160725_1.png"></p>
<p><strong>å†å»æ‰©å±•çš„targetä¸‹è¿›è¡Œç›¸åŒçš„æ“ä½œï¼Œè®°å¾—group.åçš„æ ‡è¯†ç¬¦è¦ä¸€è‡´ã€‚</strong></p>
<p>#####ä»£ç ï¼š</p>
<blockquote>
<p>åœ¨ä¸Šé¢çš„æ‰©å±•ä»£ç é‡Œé¢å·²ç»å®šä¹‰äº†ç‚¹å‡»äº‹ä»¶ï¼Œè¿™é‡Œä¸»è¦æ˜¯ä¸»åº”ç”¨æ¥æ”¶åˆ°ä¿¡æ¯åè¿›è¡Œåˆ¤æ–­å’Œå¤„ç†ã€‚</p>
<p>åœ¨è¿™ä¹‹å‰è¿˜éœ€è¦å…ˆé…ç½®URL schems,åœ¨ä¸»ç¨‹åºçš„plisté‡Œé¢ï¼š</p>
</blockquote>
<p><img src="https://i-blog.csdnimg.cn/blog_migrate/b36fb85f5f7ece4451b9e5c8b160d604.webp?x-image-process=image/format,png" alt="plist 2016-07-25 10.40.15.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">- (BOOL)application:(UIApplication *)application openURL:(NSURL *)url sourceApplication:(NSString *)sourceApplication annotation:(id)annotation &#123;</span><br><span class="line">    </span><br><span class="line">    NSString* prefix = @&quot;iOSWidgetApp://action=&quot;;</span><br><span class="line">    </span><br><span class="line">    UIWebView *webView = [[UIWebView alloc]initWithFrame:[UIScreen mainScreen].bounds];</span><br><span class="line">    webView.backgroundColor = [UIColor clearColor];</span><br><span class="line">    webView.delegate = self;</span><br><span class="line">    [webView setUserInteractionEnabled:YES];//æ˜¯å¦æ”¯æŒäº¤äº’</span><br><span class="line">    [webView setOpaque:NO];//opaqueæ˜¯ä¸é€æ˜çš„æ„æ€</span><br><span class="line">    [webView setScalesPageToFit:YES];//è‡ªåŠ¨ç¼©æ”¾ä»¥é€‚åº”å±å¹•</span><br><span class="line">    webView .scrollView.bounces = NO;// ç¦æ­¢UIWebViewä¸‹æ‹‰æ‹–åŠ¨æ•ˆæœ</span><br><span class="line">    NSString *path;</span><br><span class="line">    if ([[url absoluteString] rangeOfString:prefix].location != NSNotFound) &#123;</span><br><span class="line">        NSString* action = [[url absoluteString] substringFromIndex:prefix.length];</span><br><span class="line">        if ([action isEqualToString:@&quot;GotoHomePage&quot;]) &#123;</span><br><span class="line">            path = [[NSBundle mainBundle] pathForResource:@&quot;help&quot; ofType:@&quot;html&quot;];</span><br><span class="line">        &#125;</span><br><span class="line">        else if([action isEqualToString:@&quot;GotoOtherPage&quot;]) &#123;</span><br><span class="line">            path = [[NSBundle mainBundle] pathForResource:@&quot;setting&quot; ofType:@&quot;html&quot;];</span><br><span class="line">        &#125;else &#123;</span><br><span class="line">            path = [[NSBundle mainBundle] pathForResource:@&quot;healthyArticle&quot; ofType:@&quot;html&quot;];</span><br><span class="line">        &#125;</span><br><span class="line">        NSURL *urll = [NSURL fileURLWithPath:path];</span><br><span class="line">        NSURLRequest* request = [NSURLRequest requestWithURL:urll] ;</span><br><span class="line">        [webView loadRequest:request];</span><br><span class="line">        [self.rootView.view addSubview:webView];</span><br><span class="line">        self.rootView.view.backgroundColor = [UIColor whiteColor];</span><br><span class="line">    &#125;</span><br><span class="line">    return  YES;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>å› ä¸ºæˆ‘æ˜¯éœ€è¦åˆ°å¯¹åº”çš„H5é¡µé¢æ‰€ä»¥æ˜¯æ·»åŠ çš„H5é¡µé¢ã€‚</strong></p>
<h3 id="æ³¨æ„ï¼š"><a href="#æ³¨æ„ï¼š" class="headerlink" title="æ³¨æ„ï¼š"></a>æ³¨æ„ï¼š</h3><blockquote>
<p>1.å½“ç¨‹åºå†…å­˜ä¸è¶³æ—¶ï¼Œè‹¹æœä¼˜å…ˆä¼šæ€æ­»æ‰©å±•ï¼Œå› æ­¤éœ€è¦æ³¨æ„å†…å­˜çš„ç®¡ç†ã€‚</p>
<p>2.åœ¨é…ç½®teamæ˜¯è´¦å·éœ€è¦ä¸€è‡´ï¼ˆæˆ‘æµ‹è¯•çš„æ—¶å€™å…è´¹è´¦å·å¥½åƒè¿˜ä¸è¡Œï¼Œéœ€è¦ä»˜è´¹çš„è´¦å·ï¼‰</p>
<p>3.åœ¨iOS10ä¸Šé¢è¿˜å¯ä»¥ä»å·¦æ»‘ä¸»é¡µé¢å’Œé”å±è¿›å…¥widgetã€‚</p>
<p>4.todayåªæœ‰åœ¨ä¸‹æ‹‰çš„æ—¶å€™æ‰ä¼šæ›´æ–°ï¼Œé€šçŸ¥æ ä¸¤è¾¹çš„æ›´æ–°æœºåˆ¶æ˜¯ä¸ä¸€æ ·çš„ã€‚</p>
<p>5.ä¸€èˆ¬æ›´æ–°è·¯å¾„ï¼šviewDidLoad-&gt;viewWillAppearï¼Œä½†æ˜¯å¦‚æœä½ ä¸‹æ‹‰è¿‡äºé¢‘ç¹å°±åªä¼šæ‰§è¡ŒviewWillAppearé‡Œé¢çš„ï¼Œå› æ­¤æ›´æ–°ä»£ç æœ€å¥½æ”¾åœ¨viewWillAppearé‡Œé¢ã€‚</p>
</blockquote>
<h6 id="å¦‚æœ‰é”™è¯¯åœ°æ–¹ï¼Œä¸‡æœ›æŒ‡å‡ºï¼Œè°¢è°¢ï¼"><a href="#å¦‚æœ‰é”™è¯¯åœ°æ–¹ï¼Œä¸‡æœ›æŒ‡å‡ºï¼Œè°¢è°¢ï¼" class="headerlink" title="å¦‚æœ‰é”™è¯¯åœ°æ–¹ï¼Œä¸‡æœ›æŒ‡å‡ºï¼Œè°¢è°¢ï¼"></a>å¦‚æœ‰é”™è¯¯åœ°æ–¹ï¼Œä¸‡æœ›æŒ‡å‡ºï¼Œè°¢è°¢ï¼</h6> 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E2%80%9CiOS%E2%80%9D/" rel="tag">â€œiOSâ€</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E2%80%9Cwidget%E2%80%9D/" rel="tag">â€œwidgetâ€</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E2%80%9C%E6%89%A9%E5%B1%95%E2%80%9D/" rel="tag">â€œæ‰©å±•â€</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="[layout]-gitHub-hexo-ä¸ªäººåšå®¢"
  class="article article-type-[layout]"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2016/07/16/gitHub-hexo-%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"
    >gitHub hexo ä¸ªäººåšå®¢</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2016/07/16/gitHub-hexo-%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/" class="article-date">
  <time datetime="2016-07-15T20:11:37.000Z" itemprop="datePublished">2016-07-16</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%85%B6%E4%BB%96/">å…¶ä»–</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <blockquote>
<p>ä¸€ç›´ä»¥æ¥å°±æƒ³æ­å»ºä¸€ä¸ªè‡ªå·±çš„åšå®¢ï¼Œä¸æƒ³å…¶å®ƒç½‘ç«™é‚£ä¹ˆæ‚ä¹±ï¼Œéœ€è¦ä¸€ä¸ªçº¯ç²¹çš„è®°å½•æˆé•¿ä¹‹è·¯çš„åœ°æ–¹ã€‚æŸ¥äº†å¾ˆå¤šèµ„æ–™ï¼Œæœ€åå†³å®šç”¨hexo æ­å»ºä¸€ä¸ªé™æ€ç½‘é¡µï¼Œæ‰˜ç®¡åœ¨gitHubä¸Šã€‚ä¸‹é¢æˆ‘å°±ä»‹ç»ä¸€ä¸‹æˆ‘çš„æ­å»ºä¹‹è·¯ï¼Œ<a href="https://gavincarter1991.github.io/">æˆ‘çš„æ­å»ºç½‘é¡µ</a>ã€‚</p>
</blockquote>
<h3 id="1-gitHub"><a href="#1-gitHub" class="headerlink" title="1. gitHub"></a>1. gitHub</h3><p>gitHub çš„æ³¨å†ŒåŠé…ç½®æˆ‘å°±ä¸ä»‹ç»äº†ï¼Œè¿™ä¸ªå“ªé‡Œéƒ½å¯ä»¥æŸ¥åˆ°ï¼Œæˆ‘ä»‹ç»ä¸€ä¸‹æ³¨å†Œè¿‡åè¿œç¨‹ä»“åº“çš„åˆ›å»ºã€‚<br>é¦–å…ˆåˆ›å»ºè¿œç¨‹ä»“åº“ï¼š<br><img src="https://i-blog.csdnimg.cn/blog_migrate/ea1e5de3d83fcb9ca8c0eb0e11086ab3.webp?x-image-process=image/format,png" alt="å±å¹•å¿«ç…§ 2016-07-16 02.49.16.png"><br>åœ¨åé¢çš„Respository name é‡Œé¢è¾“å…¥ï¼šgavincarter1991.github.io è¿™ä¸ªæ ¼å¼æ˜¯å®šçš„ï¼ˆgavincarter1991 éœ€è¦å¡«å†™ä½ çš„ç”¨æˆ·åï¼‰æˆ‘æ²¡æœ‰æµ‹è¯•è¿‡å¦‚æœä¸å¡«å†™è‡ªå·±ç”¨æˆ·åçš„åæœï¼Œä¸è¿‡æŸ¥äº†å¾ˆå¤šèµ„æ–™éƒ½æ¨èè¿™æ ·å¡«å†™ï¼Œæœ‰çš„è¿˜æ˜¯ä¸ä»¥è¿™æ ·çš„æ–¹å¼ä¼šæŠ¥é”™ï¼Œæ²¡æœ‰å®è·µï¼Œæˆ‘æ²¡æœ‰å‘è¨€æƒã€‚<br><img src="https://i-blog.csdnimg.cn/blog_migrate/c44f6c8a7f4544c550f966f205dd7848.webp?x-image-process=image/format,png" alt="å±å¹•å¿«ç…§ 2016-07-16 02.49.37.png"></p>
<h3 id="2-homebrewå®‰è£…"><a href="#2-homebrewå®‰è£…" class="headerlink" title="2. homebrewå®‰è£…"></a>2. homebrewå®‰è£…</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/usr/bin/ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install node</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹å®‰è£…æ˜¯å¦æˆåŠŸï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm -v</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>å®‰è£…æˆåŠŸä¼šæ˜¾ç¤ºç‰ˆæœ¬å·ï¼š<br><img src="https://i-blog.csdnimg.cn/blog_migrate/257560df666479d7a2171dd37c11a68b.webp?x-image-process=image/format,png" alt="å±å¹•å¿«ç…§ 2016-07-16 03.09.16.png"></p>
<h3 id="3-å¼€å§‹å®‰è£…hexo"><a href="#3-å¼€å§‹å®‰è£…hexo" class="headerlink" title="3. å¼€å§‹å®‰è£…hexo"></a>3. å¼€å§‹å®‰è£…hexo</h3><p>é¦–å…ˆè¿›å…¥ä½ éœ€è¦å­˜æ”¾åšå®¢çš„æ–‡ä»¶å¤¹ï¼Œç„¶åï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo -g</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹ç‰ˆæœ¬å·ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo version</span><br></pre></td></tr></table></figure>
<p>åˆå§‹åŒ–é¡¹ç›®ï¼š(ç±»ä¼¼äºgit)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure>

<h3 id="4-å¼€å§‹ä½¿ç”¨"><a href="#4-å¼€å§‹ä½¿ç”¨" class="headerlink" title="4. å¼€å§‹ä½¿ç”¨"></a>4. å¼€å§‹ä½¿ç”¨</h3><p>åˆ›å»ºé¡µé¢ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new post &quot;My First Blog&quot;</span><br></pre></td></tr></table></figure>
<p>ç”Ÿæˆé™æ€æ–‡ä»¶(ä¼šåœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªæ–°çš„å«åšpublicçš„æ–‡ä»¶å¤¹)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g # æˆ–è€…hexo generate</span><br></pre></td></tr></table></figure>
<p>å¼€å¯æœ¬åœ°æœåŠ¡ ç”¨äºåœ¨æœ¬åœ°æµè§ˆ Ctrl+Cé€€å‡ºæŸ¥çœ‹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s # æˆ–è€…hexo serverï¼Œå¯ä»¥åœ¨è¾“å…¥http://localhost:4000/ æŸ¥çœ‹ æˆ–è€… æŒ‰ä½Command åŒå‡»å‘½ä»¤è¡Œä¸‹çš„ç½‘å€ï¼ˆhttp://localhost:4000/ï¼‰</span><br></pre></td></tr></table></figure>
<p>è¿™æ—¶ç½‘é¡µå·²ç»æˆå‹äº†ã€‚</p>
<p>æ¥ä¸‹æ¥å°±æ˜¯è¦éƒ¨ç½²åˆ°gitHubä¸Š åªéœ€è¦åœ¨é…ç½®æ–‡ä»¶_config.xmlä¸­ä½œå¦‚ä¸‹ä¿®æ”¹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: git@github.com:gavincarter1991/gavincarter1991.github.io</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>
<p>å½“ç„¶gavincarter1991ä½ç½®è¿˜æ˜¯å¡«ä½ çš„ä¿¡æ¯</p>
<p>ç„¶åå®‰è£…ä¸€ä¸ªè‡ªåŠ¨å·¥å…·ï¼Œæ–¹ä¾¿ä»¥åé¡µé¢çš„éƒ¨ç½²ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>
<p>éƒ¨ç½²å»gitHubï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure>
<p>ä»¥åæ¯ä¸€æ¬¡éƒ¨ç½²çš„ä¸€èˆ¬æ­¥éª¤ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure>
<h3 id="5-å†™æ–‡ç« "><a href="#5-å†™æ–‡ç« " class="headerlink" title="5.å†™æ–‡ç« "></a>5.å†™æ–‡ç« </h3><p>é¦–å…ˆï¼›</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new post &quot;My First Blog&quot;</span><br></pre></td></tr></table></figure>
<p>ç„¶åå»ç›®å½•ï¼šsource_postsä¸‹æ‰¾åˆ°My First Blog.mdï¼ˆmarkdownæ–‡ä»¶ï¼‰å¼€å§‹ç¼–è¾‘æ–‡ç« äº†ã€‚æˆ‘Macç”¨çš„æ˜¯Mouç¼–è¾‘å™¨ï¼Œä½ å¯ä»¥è‡ªç”±é€‰æ‹©é€‚åˆè‡ªå·±çš„markdownç¼–è¾‘å™¨ã€‚<a target="_blank" rel="noopener" href="https://wizardforcel.gitbooks.io/markdown-simple-world/content/0.html">è¿™é‡Œæœ‰markdownä½¿ç”¨æŠ€å·§</a><br>å†™å¥½ä»¥åå°±å¯ä»¥æŒ‰ç…§å‰é¢çš„éƒ¨ç½²å¸¸ç”¨æ­¥éª¤è¿›è¡Œéƒ¨ç½²äº†ã€‚</p>
<h3 id="6-å…¶ä»–"><a href="#6-å…¶ä»–" class="headerlink" title="6. å…¶ä»–"></a>6. å…¶ä»–</h3><p>1.ä¸»é¢˜ï¼šhexoæœ‰å¾ˆå¤š<a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/wiki/Themes">ç¬¬ä¸‰æ–¹ä¸»é¢˜</a>å¯ä»¥é€‰æ‹©ï¼Œé€šè¿‡git clone<br>2.é…ç½®ä¿®æ”¹å‚æ•°<a target="_blank" rel="noopener" href="http://div.io/topic/1691">è¯¦è§</a> æˆ‘å†™å‡ ä¸ªå¸¸ç”¨çš„ï¼š<br>å¤´åƒï¼šæŠŠå›¾ç‰‡æ”¾åœ¨ä¸»é¢˜å†… source&#x2F;images&#x2F;ï¼Œå›¾ç‰‡é“¾æ¥åœ°å€å¯ä»¥å¡« &#x2F;images&#x2F;avatar.png  ç„¶ååœ¨å½“å‰ä¸»é¢˜çš„_config.yml ä¸æ˜¯æ ¹ç›®å½•çš„_config.ymlï¼ˆå¦‚æœä½ æ¢äº†ä¸»é¢˜ï¼Œéœ€è¦æ ¹æ®è‡ªå·±é€‰æ‹©çš„ä¸»é¢˜è¿›å…¥é‡Œé¢å»è®¾ç½®ï¼‰</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># Sidebar Avatar</span><br><span class="line"># in theme directory(source/images): /images/avatar.jpg</span><br><span class="line"># in site  directory(source/uploads): /uploads/avatar.jpg</span><br><span class="line">avatar: /images/avatar.jpg</span><br></pre></td></tr></table></figure>
<p>ä¸ªäººä¸­å¿ƒé…ç½®ï¼šï¼ˆæ ¹ç›®å½•çš„_config.ymlï¼‰</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># Site</span><br><span class="line">title: Gavin</span><br><span class="line">subtitle: è®°å½•æˆé•¿è¿‡ç¨‹ä¸­çš„ç‚¹ç‚¹æ»´æ»´</span><br><span class="line">description: æˆ‘çˆ±æ•æ•</span><br><span class="line">author: kindyourself@163.com</span><br><span class="line">language: zh-Hans</span><br><span class="line">timezone:</span><br></pre></td></tr></table></figure>
<p>æ˜¾ç¤ºæ ‡ç­¾ä¸åˆ†ç±»ï¼šå–æ¶ˆå¯¹åº”æ³¨é‡Š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># When running the site in a subdirectory (e.g. domain.tld/blog), remove the leading slash (/archives -&gt; archives)</span><br><span class="line">menu:</span><br><span class="line">  home: /</span><br><span class="line">  categories: /categories</span><br><span class="line">  #about: /about</span><br><span class="line">  archives: /archives</span><br><span class="line">  tags: /tags</span><br><span class="line">  #commonweal: /404.html</span><br></pre></td></tr></table></figure>
<p>ç„¶ååˆ›å»ºåˆ†ç±»</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page &quot;categories&quot;</span><br></pre></td></tr></table></figure>
<p>åœ¨&#x2F;source&#x2F;categoriesä¸‹æœ‰ä¸ªindex.md æŒ‰ç…§å¦‚ä¸‹å¡«å†™ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: categories</span><br><span class="line">date: 2016-07-16 02:21:37</span><br><span class="line">type: &quot;categories&quot;</span><br><span class="line">comments: false</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<p>ä»¥ååœ¨å†™æ–‡ç« çš„æ—¶å€™åŠ ä¸Šåˆ†ç±»å°±ä¼šè‡ªåŠ¨åˆ›å»ºåˆ†ç±»äº†</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">layout: &#x27;[layout]&#x27;</span><br><span class="line">title: iOS-è‡ªå®šä¹‰å¸¦æŠ½å±‰æ•ˆæœçš„tabBar</span><br><span class="line">date: 2016-07-12 23:19:35</span><br><span class="line">tags: [è‡ªå®šä¹‰ï¼ŒæŠ½å±‰ï¼ŒtabBar]</span><br><span class="line">categories: &quot;iOS&quot; // åˆ†ç±»</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºæ ‡ç­¾</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page &quot;tags&quot;</span><br></pre></td></tr></table></figure>
<p>åœ¨&#x2F;source&#x2F;tagsä¸‹æœ‰ä¸ªindex.md æŒ‰ç…§å¦‚ä¸‹å¡«å†™ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: All tags</span><br><span class="line">date: 2016-07-16 02:11:12</span><br><span class="line">type: &quot;tags&quot;</span><br><span class="line">comments: false</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<p>ä»¥ååœ¨å†™æ–‡ç« çš„æ—¶å€™åŠ ä¸Šæ ‡ç­¾å°±ä¼šè‡ªåŠ¨è®¡å…¥</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">layout: &#x27;[layout]&#x27;</span><br><span class="line">title: iOS-è‡ªå®šä¹‰å¸¦æŠ½å±‰æ•ˆæœçš„tabBar</span><br><span class="line">date: 2016-07-12 23:19:35</span><br><span class="line">tags: [è‡ªå®šä¹‰ï¼ŒæŠ½å±‰ï¼ŒtabBar] // æ ‡ç­¾</span><br><span class="line">categories: &quot;iOS&quot;</span><br><span class="line">---</span><br></pre></td></tr></table></figure>
<p>ä¸‹è½½ä¸»é¢˜ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/iissnan/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure>

<h3 id="7-æ€»ç»“"><a href="#7-æ€»ç»“" class="headerlink" title="7. æ€»ç»“"></a>7. æ€»ç»“</h3><blockquote>
<p>è¿™ä¸ªåœ¨ç½‘ä¸Šè¿˜æœ‰å¾ˆå¤šå¾ˆè¯¦ç»†çš„æ•™ç¨‹ï¼Œè¿™æ˜¯æˆ‘çš„å¤§è‡´æ“ä½œæµç¨‹ã€‚æ„Ÿè§‰è¿™ä¸ªå¯ä»¥å¾ˆç®€å•ï¼Œå°±æ˜¯å°‘å»åŠ¨åŸç”Ÿçš„ã€‚å¦‚æœä½ æƒ³è¦å»æ£é¼“ä¼šå‘ç°è¿˜æ˜¯æœ‰å¾ˆå¤šå¯ä»¥æ£é¼“çš„ï¼Œå› ä¸ºä»–æœ‰å¾ˆå¤šçš„å‚æ•°å¯ä»¥é…ç½®ã€‚æˆ‘åªæ˜¯é…ç½®äº†ä¸€ä¸‹æˆ‘è§‰å¾—åœ¨æˆ‘çœ‹æ¥é‡è¦çš„ã€‚æœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥å»æ£é¼“æ£é¼“ã€‚-å¤ªæ™šäº†ï¼Œéƒ½4ç‚¹äº†ï¼Œç¡è§‰å»</p>
</blockquote>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E2%80%9CgitHub%E2%80%9D/" rel="tag">â€œgitHubâ€</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E2%80%9Chexo%E2%80%9D/" rel="tag">â€œhexoâ€</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E2%80%9C%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E2%80%9D/" rel="tag">â€œä¸ªäººåšå®¢â€</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
    <article
  id="[layout]-iOS-è‡ªå®šä¹‰å¸¦æŠ½å±‰æ•ˆæœçš„tabBar"
  class="article article-type-[layout]"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2016/07/15/iOS-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B8%A6%E6%8A%BD%E5%B1%89%E6%95%88%E6%9E%9C%E7%9A%84tabBar/"
    >iOS-è‡ªå®šä¹‰å¸¦æŠ½å±‰æ•ˆæœçš„tabBar</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2016/07/15/iOS-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B8%A6%E6%8A%BD%E5%B1%89%E6%95%88%E6%9E%9C%E7%9A%84tabBar/" class="article-date">
  <time datetime="2016-07-15T15:50:50.000Z" itemprop="datePublished">2016-07-15</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/iOS/">iOS</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>demoåœ°å€ï¼š<a target="_blank" rel="noopener" href="https://github.com/GavinCarter1991/-tarBar">gitHub</a></p>
<h3 id="ä¸€ã€å…ˆæ¥ä¸ªæ•ˆæœ"><a href="#ä¸€ã€å…ˆæ¥ä¸ªæ•ˆæœ" class="headerlink" title="ä¸€ã€å…ˆæ¥ä¸ªæ•ˆæœ"></a>ä¸€ã€å…ˆæ¥ä¸ªæ•ˆæœ</h3><p><img src="https://i-blog.csdnimg.cn/blog_migrate/05244727e176525fc66016280b6309d6.webp?x-image-process=image/format,png" alt="tabBar.gif"></p>
<h3 id="äºŒã€ä»£ç ç¤ºä¾‹"><a href="#äºŒã€ä»£ç ç¤ºä¾‹" class="headerlink" title="äºŒã€ä»£ç ç¤ºä¾‹"></a>äºŒã€ä»£ç ç¤ºä¾‹</h3><p><strong>1.æŠ½å±‰é¡µä½œä¸ºæ ¹è§†å›¾ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br></pre></td><td class="code"><pre><span class="line">@interface DrawerViewController ()</span><br><span class="line">&#123;</span><br><span class="line">    UITapGestureRecognizer *tapGesture;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//åˆ›å»ºå·¦è¾¹çš„æŠ½å±‰</span><br><span class="line">@property (nonatomic, strong) LeftViewController *leftViewController;</span><br><span class="line"></span><br><span class="line">//åˆ›å»ºå³è¾¹çš„æ ‡ç­¾æ§åˆ¶å™¨</span><br><span class="line">@property (nonatomic, strong) MTabBarViewController *mainViewController;</span><br><span class="line">//æŠ½å±‰æ˜¯å¦æ˜¾ç¤ºçš„æ ‡ç¤º</span><br><span class="line"></span><br><span class="line">@property (nonatomic, assign) BOOL isOpen;</span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line">@implementation DrawerViewController</span><br><span class="line"></span><br><span class="line">- (void)dealloc</span><br><span class="line">&#123;</span><br><span class="line">    //ç§»é™¤é€šçŸ¥</span><br><span class="line">    [[NSNotificationCenter defaultCenter]removeObserver:self name:@&quot;buttonTap&quot; object:nil];</span><br><span class="line">&#125;</span><br><span class="line">- (void)viewDidLoad &#123;</span><br><span class="line">    [super viewDidLoad];</span><br><span class="line">    </span><br><span class="line">    [self createTabBarController];</span><br><span class="line">    [self createLeftVc];</span><br><span class="line">    </span><br><span class="line">    self.view.backgroundColor = [UIColor grayColor];</span><br><span class="line">    </span><br><span class="line">    //æ·»åŠ é€šçŸ¥ï¼Œç›‘å¬TabBarçš„ç‚¹å‡»äº‹ä»¶ éšè—å·¦è¾¹æŠ½å±‰</span><br><span class="line">    [[NSNotificationCenter defaultCenter]addObserver:self selector:@selector(buttonTap) name:@&quot;buttonTap&quot; object:nil];</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">- (void)buttonTap</span><br><span class="line">&#123;</span><br><span class="line">    //æŠ½å±‰å±•å¼€æ—¶åˆ™éšè—</span><br><span class="line">    if (self.isOpen == YES) &#123;</span><br><span class="line">        [self openOrHidden];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//åˆ›å»ºå·¦è¾¹æŠ½å±‰</span><br><span class="line">- (void)createLeftVc</span><br><span class="line">&#123;</span><br><span class="line">    self.leftViewController = [[LeftViewController alloc]init];</span><br><span class="line">    </span><br><span class="line">    //æŠ½å±‰æ§åˆ¶å™¨æ·»åŠ åˆ°çˆ¶æ§åˆ¶å™¨ä¸­</span><br><span class="line">    [self addChildViewController:self.leftViewController];</span><br><span class="line">    self.leftViewController.view.frame = LeftViewStartFrame();</span><br><span class="line">    [self.view addSubview:self.leftViewController.view];</span><br><span class="line">    [self.leftViewController didMoveToParentViewController:self];</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//åˆ›å»ºå³è¾¹çš„æ ‡ç­¾æ§åˆ¶å™¨</span><br><span class="line">- (void)createTabBarController&#123;</span><br><span class="line">    //</span><br><span class="line">    NSArray *classNames = @[@&quot;ProductViewController&quot;,@&quot;MessageViewController&quot;,@&quot;OrderViewController&quot;];</span><br><span class="line">    </span><br><span class="line">    //ä¿å­˜viewControllers</span><br><span class="line">    NSMutableArray *viewControllers = [NSMutableArray array];</span><br><span class="line">    [classNames enumerateObjectsUsingBlock:^(NSString *  _Nonnull obj, NSUInteger idx, BOOL * _Nonnull stop) &#123;</span><br><span class="line">        //å…ˆæŠŠå­—ç¬¦ä¸²è½¬åŒ–ä¸ºç±»å</span><br><span class="line">        Class class = NSClassFromString(obj);</span><br><span class="line">        </span><br><span class="line">        //åˆ›å»ºViewController</span><br><span class="line">        UIViewController *vc = [[class alloc]init];</span><br><span class="line">        UINavigationController *aNav = [[UINavigationController alloc]initWithRootViewController:vc];</span><br><span class="line">        </span><br><span class="line">        [viewControllers addObject:aNav];</span><br><span class="line">        </span><br><span class="line">    &#125;];</span><br><span class="line">    //TabBarController åˆ›å»º</span><br><span class="line">    _mainViewController = [[MTabBarViewController alloc]initWithViewControllers:viewControllers];</span><br><span class="line">    _mainViewController.view.backgroundColor = [UIColor brownColor];</span><br><span class="line">    </span><br><span class="line">    //æ·»åŠ æ ‡ç­¾æ§åˆ¶å™¨åˆ°çˆ¶æ§åˆ¶å™¨</span><br><span class="line">    [self addChildViewController:self.mainViewController];</span><br><span class="line">    self.mainViewController.view.frame = BOUNDS;</span><br><span class="line">    [self.view addSubview:self.mainViewController.view];</span><br><span class="line">    [self.mainViewController didMoveToParentViewController:self];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//æ ‡ç­¾æ§åˆ¶å™¨æ˜¾ç¤ºçš„vcçš„æ ¹æ§åˆ¶å™¨çš„viewå¾€å³è¾¹ç§»åŠ¨</span><br><span class="line">//tabBar -&gt; Nav (ViewControllers[selectedIndex]) -&gt; Nav.rootViewController.view</span><br><span class="line">- (void)tabBar_Nav_RootViewController_viewMoveRight</span><br><span class="line">&#123;</span><br><span class="line">    //æ ‡ç­¾æ§åˆ¶å™¨å½“ä¸­ å½“å‰æ˜¾ç¤ºçš„æ§åˆ¶å™¨</span><br><span class="line">    UINavigationController *nav = self.mainViewController.viewControllers[self.mainViewController.selectedIndex];</span><br><span class="line">    //å–å‡ºå¯¼èˆªæ§åˆ¶å™¨çš„æ ¹æ§åˆ¶å™¨</span><br><span class="line">    UIViewController *rootVc = nav.childViewControllers[0];</span><br><span class="line">    rootVc.view.frame = RightContentEndFrame();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)tabBar_Nav_RootViewController_viewMoveLeft</span><br><span class="line">&#123;</span><br><span class="line">    //æ ‡ç­¾æ§åˆ¶å™¨å½“ä¸­ å½“å‰æ˜¾ç¤ºçš„æ§åˆ¶å™¨</span><br><span class="line">    UINavigationController *nav = self.mainViewController.viewControllers[self.mainViewController.selectedIndex];</span><br><span class="line">    //å–å‡ºå¯¼èˆªæ§åˆ¶å™¨çš„æ ¹æ§åˆ¶å™¨</span><br><span class="line">    UIViewController *rootVc = nav.childViewControllers[0];</span><br><span class="line">    rootVc.view.frame = RigntContentStartFrame();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//æ˜¾ç¤ºå·¦è¾¹æŠ½å±‰</span><br><span class="line">- (void)open</span><br><span class="line">&#123;</span><br><span class="line">    [UIView animateWithDuration:0.48 animations:^&#123;</span><br><span class="line">        self.leftViewController.view.frame = LeftViewEndFrame();</span><br><span class="line">        [self tabBar_Nav_RootViewController_viewMoveRight];</span><br><span class="line">    &#125; completion:nil];</span><br><span class="line">    </span><br><span class="line">    //æ·»åŠ ç‚¹å‡»æ‰‹åŠ¿ï¼Œç‚¹å‡»æŸäº›åŒºåŸŸçš„éšè—æŠ½å±‰</span><br><span class="line">    tapGesture = [[UITapGestureRecognizer alloc]initWithTarget:self action:@selector(tap:)];</span><br><span class="line">    tapGesture.numberOfTapsRequired = 1;</span><br><span class="line">    tapGesture.numberOfTouchesRequired = 1;</span><br><span class="line">    [self.view addGestureRecognizer:tapGesture];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)tap:(UITapGestureRecognizer *)gesturer</span><br><span class="line">&#123;</span><br><span class="line">    //è·å–ç‚¹å‡»çš„ä½ç½®</span><br><span class="line">    CGPoint point = [gesturer locationInView:self.view];</span><br><span class="line">    if (CGRectContainsPoint(self.leftViewController.view.frame, point) == YES) &#123;</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    [self hidden];</span><br><span class="line">    self.isOpen = NO;</span><br><span class="line">    //ç§»é™¤æ‰‹åŠ¿</span><br><span class="line">    [self.view removeGestureRecognizer:tapGesture];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//éšè—å·¦è¾¹æŠ½å±‰</span><br><span class="line">- (void)hidden</span><br><span class="line">&#123;</span><br><span class="line">    [UIView animateWithDuration:0.48 animations:^&#123;</span><br><span class="line">        self.leftViewController.view.frame = LeftViewStartFrame();</span><br><span class="line">        [self tabBar_Nav_RootViewController_viewMoveLeft];</span><br><span class="line">    &#125; completion:nil];</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)openOrHidden</span><br><span class="line">&#123;</span><br><span class="line">    //å½“å‰å¦‚æœæ˜¯éšè—ï¼Œåˆ™æ˜¾ç¤º</span><br><span class="line">    if (self.isOpen == NO) &#123;</span><br><span class="line">        [self open];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //å½“å‰å¦‚æœæ˜¯æ˜¾ç¤ºçš„ï¼Œåˆ™éšè—</span><br><span class="line">    if (self.isOpen == YES) &#123;</span><br><span class="line">        [self hidden];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //æ”¹å˜éšè—æ ‡è®°</span><br><span class="line">    self.isOpen = !self.isOpen;</span><br><span class="line">&#125;</span><br><span class="line">@end</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>2.æ ‡ç­¾è§†å›¾ ä¿®æ”¹æ–¹æ³• <code>- (void)selectBtn:(UIButton *)sender</code>ä¸­çš„åˆ‡æ¢æ•ˆæœå¯ä»¥å®ç°ä¸åŒçš„åˆ‡æ¢åŠ¨ç”»ä¸æ•ˆæœã€‚</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line">@implementation MTabBar</span><br><span class="line">- (instancetype)initWithTitles:(NSArray *)titles imageNames:(NSArray *)imageNames</span><br><span class="line">&#123;</span><br><span class="line">    self = [super initWithFrame:TabBarFrame()];</span><br><span class="line">    if (self) &#123;</span><br><span class="line">        </span><br><span class="line">        //æ ‡é¢˜æ•°ç»„ä¸ä¸ºç©ºï¼Œå›¾ç‰‡åå­—ä¸ªæ•° ï¼ æ ‡é¢˜ä¸ªæ•°</span><br><span class="line">        self.buttonBack = [[UIView alloc]initWithFrame:CGRM(0, 0, BUTTON_W, 64)];</span><br><span class="line">        self.buttonBack.backgroundColor = BUTTON_BACK_COLOR;</span><br><span class="line">        [self addSubview:self.buttonBack];</span><br><span class="line">        </span><br><span class="line">        self.backgroundColor = TABBAR_BACK_COLOR;</span><br><span class="line">        </span><br><span class="line">        if ([titles count] &amp;&amp; [titles count] == [imageNames count]) &#123;</span><br><span class="line">            [titles enumerateObjectsUsingBlock:^(NSString *  _Nonnull obj, NSUInteger idx, BOOL * _Nonnull stop) &#123;</span><br><span class="line">                UIButton *button = [[UIButton alloc]initWithFrame:CGRM(BUTTON_W*idx, 0, BUTTON_W, 64)];</span><br><span class="line">                button.tag = 1000 + idx;</span><br><span class="line">                [self addSubview:button];</span><br><span class="line">                //é»˜è®¤é€‰ä¸­ç¬¬ä¸€ä¸ª</span><br><span class="line">                if (idx == 0) &#123;</span><br><span class="line">                    button.selected = YES;</span><br><span class="line">                    self.selectedButton = button;</span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">                [button addSubview:MakeLabel(CGRM(0, 30, BUTTON_W, 34), obj)];</span><br><span class="line">//                // å›¾ç‰‡å®½ é«˜åˆ†åˆ«ä¸º 44 24</span><br><span class="line">                CGFloat x = (BUTTON_W - 44)/2;</span><br><span class="line">                [button addSubview:MakeImageView(CGRM(x, 5, 44, 24),[imageNames objectAtIndex:idx])];</span><br><span class="line">                //æ·»åŠ ç‚¹å‡»æ–¹æ³•</span><br><span class="line">                [button addTarget:self action:@selector(selectBtn:) forControlEvents:UIControlEventTouchUpInside];</span><br><span class="line">            &#125;];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return self;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//button ç‚¹å‡»æ–¹æ³•</span><br><span class="line">- (void)selectBtn:(UIButton *)sender</span><br><span class="line">&#123;</span><br><span class="line">    //è®©æŠ½å±‰éšè—ï¼Œå‘å‡ºé€šçŸ¥</span><br><span class="line">    [[NSNotificationCenter defaultCenter]postNotificationName:@&quot;buttonTap&quot; object:nil];</span><br><span class="line">    </span><br><span class="line">    //é€‰ä¸­çš„button å·²ç»æ˜¯é€‰ä¸­çŠ¶æ€ ä¸ç”¨å¤„ç†</span><br><span class="line">    if (self.selectedButton == sender) &#123;</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    //æ”¹å˜ä¹‹å‰é€‰ä¸­buttonçš„çŠ¶æ€  ä¸ºéé€‰ä¸­çŠ¶æ€</span><br><span class="line">    self.selectedButton.selected = NO;</span><br><span class="line">    </span><br><span class="line">    //æ”¹å˜å½“å‰é€‰ä¸­buttonçš„çŠ¶æ€</span><br><span class="line">    sender.selected = YES;</span><br><span class="line">    self.selectedButton = sender;</span><br><span class="line">    //é€šçŸ¥æ ‡ç­¾æ§åˆ¶å™¨æ˜¾ç¤ºå½“å‰buttonå¯¹åº”çš„viewController</span><br><span class="line">    if (self.callBack) &#123;</span><br><span class="line">        self.callBack(sender.tag - 1000);</span><br><span class="line">    &#125;</span><br><span class="line">    [UIView animateWithDuration:0.5 animations:^&#123;</span><br><span class="line">        self.buttonBack.center = CGPointMake(BUTTON_W/2+(sender.tag - 1000) * BUTTON_W, 32);</span><br><span class="line">    &#125; completion:nil];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">UILabel *MakeLabel(CGRect frame, NSString *title)</span><br><span class="line">&#123;</span><br><span class="line">    UILabel *label = [[UILabel alloc]initWithFrame:frame];</span><br><span class="line">//    label.userInteractionEnabled = YES;</span><br><span class="line">    label.backgroundColor = [UIColor clearColor];</span><br><span class="line">    label.textColor = [UIColor whiteColor];</span><br><span class="line">    label.textAlignment = NSTextAlignmentCenter;</span><br><span class="line">    label.text = title;</span><br><span class="line">    return label;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//æ ¹æ® frameå’Œ imageName åˆ›å»ºUIImageView</span><br><span class="line">UIImageView *MakeImageView(CGRect frame, NSString *imageName)</span><br><span class="line">&#123;</span><br><span class="line">    UIImageView *imageV = [[UIImageView alloc]initWithFrame:frame];</span><br><span class="line">//    imageV.userInteractionEnabled = YES;</span><br><span class="line">    imageV.backgroundColor = [UIColor clearColor];</span><br><span class="line">    imageV.image = [UIImage imageNamed:imageName];</span><br><span class="line">    return imageV;</span><br><span class="line">&#125;</span><br><span class="line">@end</span><br></pre></td></tr></table></figure>

<p><strong>3.æ ‡ç­¾æ§åˆ¶å™¨</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">@interface MTabBarViewController ()</span><br><span class="line"></span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line">@implementation MTabBarViewController</span><br><span class="line"></span><br><span class="line">- (instancetype)initWithViewControllers:(NSArray *)viewControllers</span><br><span class="line">&#123;</span><br><span class="line">    self = [super init];</span><br><span class="line">    if (self) &#123;</span><br><span class="line">        </span><br><span class="line">        _viewControllers = viewControllers;</span><br><span class="line">        //éå†æ•°ç»„ï¼Œæ·»åŠ å­æ§åˆ¶å™¨</span><br><span class="line">        [_viewControllers enumerateObjectsUsingBlock:^(UIViewController *  _Nonnull obj, NSUInteger idx, BOOL * _Nonnull stop) &#123;</span><br><span class="line">            [self addChild:obj];</span><br><span class="line">        &#125;];</span><br><span class="line">        /*</span><br><span class="line">         @[@&quot;å•†å“.png&quot;,@&quot;æ¶ˆæ¯.png&quot;,@&quot;è®¢å•.png&quot;]</span><br><span class="line">         @[@&quot;å•†å“æµè§ˆ&quot;,@&quot;æˆ‘çš„æ¶ˆæ¯&quot;,@&quot;æˆ‘çš„è®¢å•&quot;]</span><br><span class="line">         */</span><br><span class="line">        _tabBar = [[MTabBar alloc]initWithTitles:@[@&quot;å•†å“æµè§ˆ&quot;,@&quot;æˆ‘çš„æ¶ˆæ¯&quot;,@&quot;æˆ‘çš„è®¢å•&quot;] imageNames:@[@&quot;å•†å“.png&quot;,@&quot;æ¶ˆæ¯.png&quot;,@&quot;è®¢å•.png&quot;]];</span><br><span class="line">        [self.view addSubview:self.tabBar];</span><br><span class="line">        __weak typeof(self) weakSelf = self;</span><br><span class="line">        self.tabBar.callBack = ^(NSInteger index)&#123;</span><br><span class="line">            weakSelf.selectedIndex = index;</span><br><span class="line">        &#125;;</span><br><span class="line">        //é»˜è®¤é€‰ä¸­ç¬¬0ä¸ª</span><br><span class="line">        self.selectedIndex = 0;</span><br><span class="line">    &#125;</span><br><span class="line">    return self;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)setSelectedIndex:(NSInteger)selectedIndex</span><br><span class="line">&#123;</span><br><span class="line">    //å–å‡ºå½“å‰æ§åˆ¶å™¨ oldVc</span><br><span class="line">    UIViewController *oldVc = self.viewControllers[self.selectedIndex];</span><br><span class="line">    //å–å‡ºå°†è¦æ˜¾ç¤ºçš„ æ§åˆ¶å™¨ newVc</span><br><span class="line">    UIViewController *newVc = self.viewControllers[selectedIndex];</span><br><span class="line">    //åŠ¨ç”» å‘å·¦è¾¹ç§»åŠ¨</span><br><span class="line">    newVc.view.frame = CGRectMake(S_W, 0, S_W, S_H);</span><br><span class="line">    //æ”¹å˜ newVc çš„è§†å›¾å±‚æ¬¡</span><br><span class="line">    </span><br><span class="line">    //æŠŠnewVc.view çš„è§†å›¾æ”¾åœ¨ self.tabBar çš„ä¸‹é¢</span><br><span class="line">    [self.view insertSubview:newVc.view belowSubview:self.tabBar];</span><br><span class="line">    [UIView animateWithDuration:0.5 animations:^&#123;</span><br><span class="line">        oldVc.view.frame = CGRectMake(-S_W, 0, S_W, S_H);</span><br><span class="line">        newVc.view.frame = BOUNDS;</span><br><span class="line">    &#125;];</span><br><span class="line">    _selectedIndex = selectedIndex;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//æ·»åŠ å­æ§åˆ¶å™¨å…·ä½“æ­¥éª¤</span><br><span class="line">- (void)addChild:(UIViewController *)viewController</span><br><span class="line">&#123;</span><br><span class="line">    [self addChildViewController:viewController];</span><br><span class="line">    viewController.view.frame = BOUNDS;</span><br><span class="line">    //å°†viewContoller.view æ”¾åœ¨æœ€åº•å±‚</span><br><span class="line">    [self.view insertSubview:viewController.view atIndex:0];</span><br><span class="line">    [viewController didMoveToParentViewController:self];</span><br><span class="line">    </span><br><span class="line">//    self.view.subviews æ•°ç»„ ä¸‹æ ‡è¶Šå°ï¼Œè§†å›¾å±‚æ¬¡è¶Šåœ¨ä¸‹é¢ï¼Œä¸‹æ ‡è¶Šå¤§ï¼Œè§†å›¾å±‚æ¬¡è¶Šåœ¨ä¸Šé¢</span><br><span class="line">&#125;</span><br><span class="line">@end</span><br></pre></td></tr></table></figure>

<p><strong>4.è§†å›¾ä½ç½®æ§åˆ¶ ä¿®æ”¹å¯¹åº”çš„è§†å›¾çš„frameå¯ä»¥å®ç°ä¸åŒçš„è§†å›¾æ•ˆæœ</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">CGRect TabBarFrame()</span><br><span class="line">&#123;</span><br><span class="line">    return CGRectMake(0, S_H-64, S_W, 64);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//å·¦è¾¹æŠ½å±‰éšè—ï¼ˆå¼€å§‹ï¼‰çš„ä½ç½®</span><br><span class="line">CGRect LeftViewStartFrame()</span><br><span class="line">&#123;</span><br><span class="line">    return CGRectMake(-S_W*0.75, 67,S_W*0.75 , S_H-64-64-6);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//å·¦è¾¹æŠ½å±‰æ˜¾ç¤ºï¼ˆç»“æŸï¼‰çš„ä½ç½®</span><br><span class="line">CGRect LeftViewEndFrame()</span><br><span class="line">&#123;</span><br><span class="line">    return CGRectMake(0, 67, S_W*0.75, S_H-64-64-6);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//å³è¾¹å†…å®¹å¼€å§‹ï¼ˆæŠ½å±‰éšè—æ—¶ï¼‰çš„ä½ç½®</span><br><span class="line">CGRect RigntContentStartFrame()</span><br><span class="line">&#123;</span><br><span class="line">    return CGRectMake(0, 0, S_W, S_H);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//å³è¾¹å†…å®¹ç»“æŸï¼ˆæŠ½å±‰æ˜¾ç¤ºæ—¶ï¼‰çš„ä½ç½®</span><br><span class="line">CGRect RightContentEndFrame()</span><br><span class="line">&#123;</span><br><span class="line">    return CGRectMake(S_W*0.75, 0, S_W, S_H);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">CGRect CGRM(CGFloat x, CGFloat y,CGFloat w,CGFloat h)</span><br><span class="line">&#123;</span><br><span class="line">    return CGRectMake(x, y, w, h);</span><br><span class="line">&#125;</span><br><span class="line">@end</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<blockquote>
<p>æ¬¢è¿ä¸‹è½½</p>
</blockquote>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E2%80%9CiOS%E2%80%9D/" rel="tag">â€œiOSâ€</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E2%80%9CtabBar%E2%80%9D/" rel="tag">â€œtabBarâ€</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E2%80%9C%E6%8A%BD%E5%B1%89%E2%80%9D/" rel="tag">â€œæŠ½å±‰â€</a></li></ul>

    </footer>
  </div>

    
 
    
</article>

    
  </article>
  

  
  <nav class="page-nav">
    
    <a class="extend prev" rel="prev" href="/">ä¸Šä¸€é¡µ</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/">ä¸‹ä¸€é¡µ</a>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2015-2025
        <i class="ri-heart-fill heart_icon"></i> kindyourself@163.com
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>è®¿é—®äººæ•°:<span id="busuanzi_value_site_uv"></span></span>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>æµè§ˆæ¬¡æ•°:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzzç»Ÿè®¡ -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>    
    </main>
    <div class="float_btns">
      <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

    </div>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="Gavin&#39;s Blog"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">ä¸»é¡µ</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">å½’æ¡£</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">åˆ†ç±»</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">æ ‡ç­¾</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" target="_blank" rel="noopener" href="https://www.jianshu.com/u/51707eacf496">ç®€ä¹¦</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/friends">å‹é“¾</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/about">å…³äºæˆ‘</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="æœç´¢">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>è¯·æˆ‘å–æ¯å’–å•¡å§~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/alipay.png">
      <span class="reward-type">æ”¯ä»˜å®</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/wechat.png">
      <span class="reward-type">å¾®ä¿¡</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-3.6.0.min.js"></script>
 
<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->

<script src="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.css"
/>
<script src="https://cdn.staticfile.org/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->
 <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/default-skin/default-skin.min.css">
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // sliderå±•å¼€çŠ¶æ€
                // todo: è¿™æ ·ä¸å¥½ï¼Œåé¢æ”¹æˆçŠ¶æ€
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // è·å¾—åŸå›¾å°ºå¯¸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script> 
<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->
 
<script src="/js/busuanzi-2.3.pure.min.js"></script>
 
<!-- ClickLove -->

<!-- ClickBoom1 -->

<!-- ClickBoom2 -->

<!-- CodeCopy -->
 
<link rel="stylesheet" href="/css/clipboard.css">
 <script src="https://cdn.staticfile.org/clipboard.js/2.0.10/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // ç­‰å¾…ä¸¤ç§’é’Ÿåæ¢å¤
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // ç­‰å¾…ä¸¤ç§’é’Ÿåæ¢å¤
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>
 
<!-- CanvasBackground -->

<script>
  if (window.mermaid) {
    mermaid.initialize({ theme: "forest" });
  }
</script>


    
    

  </div>
</body>

</html>